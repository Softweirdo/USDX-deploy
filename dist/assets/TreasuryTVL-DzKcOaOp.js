import{c as M,j as a,s as A,C as F,G as V,a as O,T as U}from"./index-DNSS5xgB.js";import{u as m,f as i,a as B,h as G,C as I,L as R}from"./moment-Baf5-x2G.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=M("FileLock2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v1",key:"jmtmu2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["rect",{width:"8",height:"5",x:"2",y:"13",rx:"1",key:"10y5wo"}],["path",{d:"M8 13v-2a2 2 0 1 0-4 0v2",key:"1pdxzg"}]]);function z({type:o}){var g,x,u,p,b,f,N,j,y,L,T,w,k,D,_,C,P;const{loading:c,error:d,data:n}=m(V),{data:t}=m(O),e=m(U);if(c)return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:Array.from({length:4}).map((r,l)=>a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-4"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded w-32"})]},`skeleton-${l}`))});const s=((u=(x=n==null?void 0:n.getFilteredTokenData)==null?void 0:x[((g=n==null?void 0:n.getFilteredTokenData)==null?void 0:g.length)-1])==null?void 0:u.tokenBalance)||[],h=((p=t==null?void 0:t.userCountAndTotalStack)==null?void 0:p.totalUsers)||0;return console.log("totalUsers",h),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-${o==="dashboard"?"4":"3"} gap-4 mb-4 animate-[fadeIn_0.5s_ease-in-out]`,children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"LP Treasury "}),a.jsxs("div",{className:" flex mt-2 space-y-1",children:[a.jsx("p",{className:"text-2xl font-semibold ",style:{color:"#066fd2"},children:(s==null?void 0:s.length)>0?i(parseFloat((b=s==null?void 0:s.map(function(r){return r.balance}))==null?void 0:b.reduce(function(r,l){return Number(r)+Number(l)}))):0}),a.jsx("a",{href:A+"address/"+F,target:"_blank",rel:"noopener noreferrer",className:" ml-3 text-[#066fd2] hover:text-blue-600","aria-label":"Go to Contract",children:a.jsx(v,{})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg relative",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-500",children:["LP"," ",(f=e==null?void 0:e.data)!=null&&f.getLpPairData[0].name?(N=e==null?void 0:e.data)==null?void 0:N.getLpPairData[0].name:"DAI","/",(j=e==null?void 0:e.data)!=null&&j.getLpPairData[1].name?(y=e==null?void 0:e.data)==null?void 0:y.getLpPairData[1].name:"USDX"]}),a.jsxs("div",{className:"mt-2 space-y-1 flex",children:[a.jsx("p",{className:"text-2xl font-semibold",style:{color:"#066fd2"},children:((T=(L=e==null?void 0:e.data)==null?void 0:L.getLpPairData)==null?void 0:T.length)>0?i(parseFloat(((w=e==null?void 0:e.data)==null?void 0:w.getLpPairData[0].balance)+((k=e==null?void 0:e.data)==null?void 0:k.getLpPairData[1].balance))):0}),a.jsx("a",{href:A+"address/"+F,target:"_blank",rel:"noopener noreferrer",className:" ml-3 text-[#066fd2] hover:text-blue-600","aria-label":"Go to Contract",children:a.jsx(v,{})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total LP TVL"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx("p",{className:"text-2xl font-semibold ",style:{color:"#066fd2"},children:((_=(D=e==null?void 0:e.data)==null?void 0:D.getLpPairData)==null?void 0:_.length)>0&&(s==null?void 0:s.length)>0?i(parseFloat(((C=e==null?void 0:e.data)==null?void 0:C.getLpPairData[0].balance)+((P=e==null?void 0:e.data)==null?void 0:P.getLpPairData[1].balance)+Number(s.map(function(r){return r.balance}).reduce(function(r,l){return Number(r)+Number(l)})))):0})})]}),o==="dashboard"&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Stakers"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx("p",{className:"text-2xl font-semibold ",style:{color:"#066fd2"},children:h?B(h.toString()):0})})]})]}),o!=="dashboard"&&a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4 animate-[fadeIn_0.5s_ease-in-out]",children:s.map((r,l)=>a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-500",children:["Current ",r.tokenName," TVL"]}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx("p",{className:"text-2xl font-semibold",style:{color:"#066fd2"},children:i(parseFloat(r.balance))})})]},`${r.tokenSymbol}-${l}`))})]})}const E=["#6366f1","#f59e0b","#10b981","#ec4899","#8b5cf6"];function $(o){const c=[...o].sort((e,s)=>new Date(e.timestamp).getTime()-new Date(s.timestamp).getTime()),d=new Set(o.flatMap(e=>e.tokenBalance.map(s=>s.tokenSymbol))),n=c.map(e=>({date:G(Number(e.timestamp)).format("MM/DD/yyyy"),...Object.fromEntries(e.tokenBalance.map(s=>[s.tokenSymbol,parseFloat(s.balance)]))})),t=Array.from(d).map((e,s)=>({key:e,label:e,color:E[s%E.length]}));return{chartData:n,series:t}}function K(){const{loading:o,error:c,data:d}=m(V),{chartData:n,series:t}=$((d==null?void 0:d.getFilteredTokenData)||[]);return a.jsx("div",{className:"transform transition-all duration-500 hover:scale-[1.02]",children:a.jsx(I,{title:"Treasury TVL",children:a.jsx(R,{data:n,series:t,yAxisLabel:"Balance",formatValue:i})})})}export{z as T,K as a};
