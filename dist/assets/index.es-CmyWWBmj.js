const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BV6pXkST.js","assets/index-fsOahuMz.js","assets/index-CHIcPt2L.css"])))=>i.map(i=>d[i]);
import{aR as _t,D as sv,$ as av}from"./index-fsOahuMz.js";import{bh as lu,bi as Wo,bj as Go,bk as ov,bl as uv,bm as cv,bn as hv,bo as fv,bp as lv,bq as pv,br as ss,bs as dv,bt as Sn,bu as gv,bv as On,bw as vv,bx as pu,by as Vi,bz as et,bA as _v,bB as du,bC as zo}from"./Staking-DNxAr3EA.js";import"./allowance-Dq4y5cN1.js";import"./TypedData-BCZggr1M.js";import"./Address-C7Efc8vg.js";import"./arweave-CAGvOb64.js";var xr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */xr.exports;(function(y,r){(function(){var i,c="4.17.21",d=200,C="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",I="Expected a function",O="Invalid `variable` option passed into `_.template`",L="__lodash_hash_undefined__",ne=500,pe="__lodash_placeholder__",de=1,se=2,ce=4,nt=1,Q=2,_e=1,at=2,Rn=4,Je=8,Ot=16,He=32,mt=64,Ye=128,St=256,Ne=512,Sr=30,Rr="...",xe=800,Tr=16,Bt=1,v=2,A=3,$=1/0,G=9007199254740991,j=17976931348623157e292,U=NaN,me=4294967295,sn=me-1,Tn=me>>>1,ae=[["ary",Ye],["bind",_e],["bindKey",at],["curry",Je],["curryRight",Ot],["flip",Ne],["partial",He],["partialRight",mt],["rearg",St]],Ce="[object Arguments]",Dn="[object Array]",wu="[object AsyncFunction]",an="[object Boolean]",on="[object Date]",yu="[object DOMException]",Ln="[object Error]",$n="[object Function]",hs="[object GeneratorFunction]",Ze="[object Map]",un="[object Number]",Pu="[object Null]",ot="[object Object]",fs="[object Promise]",Cu="[object Proxy]",cn="[object RegExp]",Xe="[object Set]",hn="[object String]",Hn="[object Symbol]",Au="[object Undefined]",fn="[object WeakMap]",Iu="[object WeakSet]",ln="[object ArrayBuffer]",Ft="[object DataView]",Dr="[object Float32Array]",Lr="[object Float64Array]",$r="[object Int8Array]",Hr="[object Int16Array]",Nr="[object Int32Array]",Mr="[object Uint8Array]",Ur="[object Uint8ClampedArray]",qr="[object Uint16Array]",Br="[object Uint32Array]",bu=/\b__p \+= '';/g,Eu=/\b(__p \+=) '' \+/g,xu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ls=/&(?:amp|lt|gt|quot|#39);/g,ps=/[&<>"']/g,Ou=RegExp(ls.source),Su=RegExp(ps.source),Ru=/<%-([\s\S]+?)%>/g,Tu=/<%([\s\S]+?)%>/g,ds=/<%=([\s\S]+?)%>/g,Du=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lu=/^\w*$/,$u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fr=/[\\^$.*+?()[\]{}|]/g,Hu=RegExp(Fr.source),Wr=/^\s+/,Nu=/\s/,Mu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Uu=/\{\n\/\* \[wrapped with (.+)\] \*/,qu=/,? & /,Bu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fu=/[()=,{}\[\]\/\s]/,Wu=/\\(\\)?/g,Gu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gs=/\w*$/,zu=/^[-+]0x[0-9a-f]+$/i,Ku=/^0b[01]+$/i,Ju=/^\[object .+?Constructor\]$/,Yu=/^0o[0-7]+$/i,Zu=/^(?:0|[1-9]\d*)$/,Xu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nn=/($^)/,Qu=/['\n\r\u2028\u2029\\]/g,Mn="\\ud800-\\udfff",ju="\\u0300-\\u036f",ku="\\ufe20-\\ufe2f",Vu="\\u20d0-\\u20ff",vs=ju+ku+Vu,_s="\\u2700-\\u27bf",ms="a-z\\xdf-\\xf6\\xf8-\\xff",ec="\\xac\\xb1\\xd7\\xf7",tc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",nc="\\u2000-\\u206f",rc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ws="A-Z\\xc0-\\xd6\\xd8-\\xde",ys="\\ufe0e\\ufe0f",Ps=ec+tc+nc+rc,Gr="['’]",ic="["+Mn+"]",Cs="["+Ps+"]",Un="["+vs+"]",As="\\d+",sc="["+_s+"]",Is="["+ms+"]",bs="[^"+Mn+Ps+As+_s+ms+ws+"]",zr="\\ud83c[\\udffb-\\udfff]",ac="(?:"+Un+"|"+zr+")",Es="[^"+Mn+"]",Kr="(?:\\ud83c[\\udde6-\\uddff]){2}",Jr="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+ws+"]",xs="\\u200d",Os="(?:"+Is+"|"+bs+")",oc="(?:"+Wt+"|"+bs+")",Ss="(?:"+Gr+"(?:d|ll|m|re|s|t|ve))?",Rs="(?:"+Gr+"(?:D|LL|M|RE|S|T|VE))?",Ts=ac+"?",Ds="["+ys+"]?",uc="(?:"+xs+"(?:"+[Es,Kr,Jr].join("|")+")"+Ds+Ts+")*",cc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ls=Ds+Ts+uc,fc="(?:"+[sc,Kr,Jr].join("|")+")"+Ls,lc="(?:"+[Es+Un+"?",Un,Kr,Jr,ic].join("|")+")",pc=RegExp(Gr,"g"),dc=RegExp(Un,"g"),Yr=RegExp(zr+"(?="+zr+")|"+lc+Ls,"g"),gc=RegExp([Wt+"?"+Is+"+"+Ss+"(?="+[Cs,Wt,"$"].join("|")+")",oc+"+"+Rs+"(?="+[Cs,Wt+Os,"$"].join("|")+")",Wt+"?"+Os+"+"+Ss,Wt+"+"+Rs,hc,cc,As,fc].join("|"),"g"),vc=RegExp("["+xs+Mn+vs+ys+"]"),_c=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wc=-1,k={};k[Dr]=k[Lr]=k[$r]=k[Hr]=k[Nr]=k[Mr]=k[Ur]=k[qr]=k[Br]=!0,k[Ce]=k[Dn]=k[ln]=k[an]=k[Ft]=k[on]=k[Ln]=k[$n]=k[Ze]=k[un]=k[ot]=k[cn]=k[Xe]=k[hn]=k[fn]=!1;var X={};X[Ce]=X[Dn]=X[ln]=X[Ft]=X[an]=X[on]=X[Dr]=X[Lr]=X[$r]=X[Hr]=X[Nr]=X[Ze]=X[un]=X[ot]=X[cn]=X[Xe]=X[hn]=X[Hn]=X[Mr]=X[Ur]=X[qr]=X[Br]=!0,X[Ln]=X[$n]=X[fn]=!1;var yc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Pc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ac={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ic=parseFloat,bc=parseInt,$s=typeof _t=="object"&&_t&&_t.Object===Object&&_t,Ec=typeof self=="object"&&self&&self.Object===Object&&self,fe=$s||Ec||Function("return this")(),Zr=r&&!r.nodeType&&r,Rt=Zr&&!0&&y&&!y.nodeType&&y,Hs=Rt&&Rt.exports===Zr,Xr=Hs&&$s.process,Me=function(){try{var l=Rt&&Rt.require&&Rt.require("util").types;return l||Xr&&Xr.binding&&Xr.binding("util")}catch{}}(),Ns=Me&&Me.isArrayBuffer,Ms=Me&&Me.isDate,Us=Me&&Me.isMap,qs=Me&&Me.isRegExp,Bs=Me&&Me.isSet,Fs=Me&&Me.isTypedArray;function Oe(l,_,g){switch(g.length){case 0:return l.call(_);case 1:return l.call(_,g[0]);case 2:return l.call(_,g[0],g[1]);case 3:return l.call(_,g[0],g[1],g[2])}return l.apply(_,g)}function xc(l,_,g,E){for(var D=-1,K=l==null?0:l.length;++D<K;){var oe=l[D];_(E,oe,g(oe),l)}return E}function Ue(l,_){for(var g=-1,E=l==null?0:l.length;++g<E&&_(l[g],g,l)!==!1;);return l}function Oc(l,_){for(var g=l==null?0:l.length;g--&&_(l[g],g,l)!==!1;);return l}function Ws(l,_){for(var g=-1,E=l==null?0:l.length;++g<E;)if(!_(l[g],g,l))return!1;return!0}function wt(l,_){for(var g=-1,E=l==null?0:l.length,D=0,K=[];++g<E;){var oe=l[g];_(oe,g,l)&&(K[D++]=oe)}return K}function qn(l,_){var g=l==null?0:l.length;return!!g&&Gt(l,_,0)>-1}function Qr(l,_,g){for(var E=-1,D=l==null?0:l.length;++E<D;)if(g(_,l[E]))return!0;return!1}function V(l,_){for(var g=-1,E=l==null?0:l.length,D=Array(E);++g<E;)D[g]=_(l[g],g,l);return D}function yt(l,_){for(var g=-1,E=_.length,D=l.length;++g<E;)l[D+g]=_[g];return l}function jr(l,_,g,E){var D=-1,K=l==null?0:l.length;for(E&&K&&(g=l[++D]);++D<K;)g=_(g,l[D],D,l);return g}function Sc(l,_,g,E){var D=l==null?0:l.length;for(E&&D&&(g=l[--D]);D--;)g=_(g,l[D],D,l);return g}function kr(l,_){for(var g=-1,E=l==null?0:l.length;++g<E;)if(_(l[g],g,l))return!0;return!1}var Rc=Vr("length");function Tc(l){return l.split("")}function Dc(l){return l.match(Bu)||[]}function Gs(l,_,g){var E;return g(l,function(D,K,oe){if(_(D,K,oe))return E=K,!1}),E}function Bn(l,_,g,E){for(var D=l.length,K=g+(E?1:-1);E?K--:++K<D;)if(_(l[K],K,l))return K;return-1}function Gt(l,_,g){return _===_?zc(l,_,g):Bn(l,zs,g)}function Lc(l,_,g,E){for(var D=g-1,K=l.length;++D<K;)if(E(l[D],_))return D;return-1}function zs(l){return l!==l}function Ks(l,_){var g=l==null?0:l.length;return g?ti(l,_)/g:U}function Vr(l){return function(_){return _==null?i:_[l]}}function ei(l){return function(_){return l==null?i:l[_]}}function Js(l,_,g,E,D){return D(l,function(K,oe,Z){g=E?(E=!1,K):_(g,K,oe,Z)}),g}function $c(l,_){var g=l.length;for(l.sort(_);g--;)l[g]=l[g].value;return l}function ti(l,_){for(var g,E=-1,D=l.length;++E<D;){var K=_(l[E]);K!==i&&(g=g===i?K:g+K)}return g}function ni(l,_){for(var g=-1,E=Array(l);++g<l;)E[g]=_(g);return E}function Hc(l,_){return V(_,function(g){return[g,l[g]]})}function Ys(l){return l&&l.slice(0,js(l)+1).replace(Wr,"")}function Se(l){return function(_){return l(_)}}function ri(l,_){return V(_,function(g){return l[g]})}function pn(l,_){return l.has(_)}function Zs(l,_){for(var g=-1,E=l.length;++g<E&&Gt(_,l[g],0)>-1;);return g}function Xs(l,_){for(var g=l.length;g--&&Gt(_,l[g],0)>-1;);return g}function Nc(l,_){for(var g=l.length,E=0;g--;)l[g]===_&&++E;return E}var Mc=ei(yc),Uc=ei(Pc);function qc(l){return"\\"+Ac[l]}function Bc(l,_){return l==null?i:l[_]}function zt(l){return vc.test(l)}function Fc(l){return _c.test(l)}function Wc(l){for(var _,g=[];!(_=l.next()).done;)g.push(_.value);return g}function ii(l){var _=-1,g=Array(l.size);return l.forEach(function(E,D){g[++_]=[D,E]}),g}function Qs(l,_){return function(g){return l(_(g))}}function Pt(l,_){for(var g=-1,E=l.length,D=0,K=[];++g<E;){var oe=l[g];(oe===_||oe===pe)&&(l[g]=pe,K[D++]=g)}return K}function Fn(l){var _=-1,g=Array(l.size);return l.forEach(function(E){g[++_]=E}),g}function Gc(l){var _=-1,g=Array(l.size);return l.forEach(function(E){g[++_]=[E,E]}),g}function zc(l,_,g){for(var E=g-1,D=l.length;++E<D;)if(l[E]===_)return E;return-1}function Kc(l,_,g){for(var E=g+1;E--;)if(l[E]===_)return E;return E}function Kt(l){return zt(l)?Yc(l):Rc(l)}function Qe(l){return zt(l)?Zc(l):Tc(l)}function js(l){for(var _=l.length;_--&&Nu.test(l.charAt(_)););return _}var Jc=ei(Cc);function Yc(l){for(var _=Yr.lastIndex=0;Yr.test(l);)++_;return _}function Zc(l){return l.match(Yr)||[]}function Xc(l){return l.match(gc)||[]}var Qc=function l(_){_=_==null?fe:Jt.defaults(fe.Object(),_,Jt.pick(fe,mc));var g=_.Array,E=_.Date,D=_.Error,K=_.Function,oe=_.Math,Z=_.Object,si=_.RegExp,jc=_.String,qe=_.TypeError,Wn=g.prototype,kc=K.prototype,Yt=Z.prototype,Gn=_["__core-js_shared__"],zn=kc.toString,Y=Yt.hasOwnProperty,Vc=0,ks=function(){var e=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Kn=Yt.toString,eh=zn.call(Z),th=fe._,nh=si("^"+zn.call(Y).replace(Fr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jn=Hs?_.Buffer:i,Ct=_.Symbol,Yn=_.Uint8Array,Vs=Jn?Jn.allocUnsafe:i,Zn=Qs(Z.getPrototypeOf,Z),ea=Z.create,ta=Yt.propertyIsEnumerable,Xn=Wn.splice,na=Ct?Ct.isConcatSpreadable:i,dn=Ct?Ct.iterator:i,Tt=Ct?Ct.toStringTag:i,Qn=function(){try{var e=Nt(Z,"defineProperty");return e({},"",{}),e}catch{}}(),rh=_.clearTimeout!==fe.clearTimeout&&_.clearTimeout,ih=E&&E.now!==fe.Date.now&&E.now,sh=_.setTimeout!==fe.setTimeout&&_.setTimeout,jn=oe.ceil,kn=oe.floor,ai=Z.getOwnPropertySymbols,ah=Jn?Jn.isBuffer:i,ra=_.isFinite,oh=Wn.join,uh=Qs(Z.keys,Z),ue=oe.max,ge=oe.min,ch=E.now,hh=_.parseInt,ia=oe.random,fh=Wn.reverse,oi=Nt(_,"DataView"),gn=Nt(_,"Map"),ui=Nt(_,"Promise"),Zt=Nt(_,"Set"),vn=Nt(_,"WeakMap"),_n=Nt(Z,"create"),Vn=vn&&new vn,Xt={},lh=Mt(oi),ph=Mt(gn),dh=Mt(ui),gh=Mt(Zt),vh=Mt(vn),er=Ct?Ct.prototype:i,mn=er?er.valueOf:i,sa=er?er.toString:i;function o(e){if(te(e)&&!H(e)&&!(e instanceof F)){if(e instanceof Be)return e;if(Y.call(e,"__wrapped__"))return ao(e)}return new Be(e)}var Qt=function(){function e(){}return function(t){if(!ee(t))return{};if(ea)return ea(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function tr(){}function Be(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}o.templateSettings={escape:Ru,evaluate:Tu,interpolate:ds,variable:"",imports:{_:o}},o.prototype=tr.prototype,o.prototype.constructor=o,Be.prototype=Qt(tr.prototype),Be.prototype.constructor=Be;function F(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function _h(){var e=new F(this.__wrapped__);return e.__actions__=Ae(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ae(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ae(this.__views__),e}function mh(){if(this.__filtered__){var e=new F(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function wh(){var e=this.__wrapped__.value(),t=this.__dir__,n=H(e),s=t<0,a=n?e.length:0,u=Df(0,a,this.__views__),h=u.start,f=u.end,p=f-h,m=s?f:h-1,w=this.__iteratees__,P=w.length,b=0,x=ge(p,this.__takeCount__);if(!n||!s&&a==p&&x==p)return Sa(e,this.__actions__);var R=[];e:for(;p--&&b<x;){m+=t;for(var M=-1,T=e[m];++M<P;){var B=w[M],W=B.iteratee,De=B.type,Pe=W(T);if(De==v)T=Pe;else if(!Pe){if(De==Bt)continue e;break e}}R[b++]=T}return R}F.prototype=Qt(tr.prototype),F.prototype.constructor=F;function Dt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function yh(){this.__data__=_n?_n(null):{},this.size=0}function Ph(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ch(e){var t=this.__data__;if(_n){var n=t[e];return n===L?i:n}return Y.call(t,e)?t[e]:i}function Ah(e){var t=this.__data__;return _n?t[e]!==i:Y.call(t,e)}function Ih(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_n&&t===i?L:t,this}Dt.prototype.clear=yh,Dt.prototype.delete=Ph,Dt.prototype.get=Ch,Dt.prototype.has=Ah,Dt.prototype.set=Ih;function ut(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function bh(){this.__data__=[],this.size=0}function Eh(e){var t=this.__data__,n=nr(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Xn.call(t,n,1),--this.size,!0}function xh(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]}function Oh(e){return nr(this.__data__,e)>-1}function Sh(e,t){var n=this.__data__,s=nr(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}ut.prototype.clear=bh,ut.prototype.delete=Eh,ut.prototype.get=xh,ut.prototype.has=Oh,ut.prototype.set=Sh;function ct(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Rh(){this.size=0,this.__data__={hash:new Dt,map:new(gn||ut),string:new Dt}}function Th(e){var t=dr(this,e).delete(e);return this.size-=t?1:0,t}function Dh(e){return dr(this,e).get(e)}function Lh(e){return dr(this,e).has(e)}function $h(e,t){var n=dr(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}ct.prototype.clear=Rh,ct.prototype.delete=Th,ct.prototype.get=Dh,ct.prototype.has=Lh,ct.prototype.set=$h;function Lt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ct;++t<n;)this.add(e[t])}function Hh(e){return this.__data__.set(e,L),this}function Nh(e){return this.__data__.has(e)}Lt.prototype.add=Lt.prototype.push=Hh,Lt.prototype.has=Nh;function je(e){var t=this.__data__=new ut(e);this.size=t.size}function Mh(){this.__data__=new ut,this.size=0}function Uh(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function qh(e){return this.__data__.get(e)}function Bh(e){return this.__data__.has(e)}function Fh(e,t){var n=this.__data__;if(n instanceof ut){var s=n.__data__;if(!gn||s.length<d-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new ct(s)}return n.set(e,t),this.size=n.size,this}je.prototype.clear=Mh,je.prototype.delete=Uh,je.prototype.get=qh,je.prototype.has=Bh,je.prototype.set=Fh;function aa(e,t){var n=H(e),s=!n&&Ut(e),a=!n&&!s&&xt(e),u=!n&&!s&&!a&&en(e),h=n||s||a||u,f=h?ni(e.length,jc):[],p=f.length;for(var m in e)(t||Y.call(e,m))&&!(h&&(m=="length"||a&&(m=="offset"||m=="parent")||u&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||pt(m,p)))&&f.push(m);return f}function oa(e){var t=e.length;return t?e[wi(0,t-1)]:i}function Wh(e,t){return gr(Ae(e),$t(t,0,e.length))}function Gh(e){return gr(Ae(e))}function ci(e,t,n){(n!==i&&!ke(e[t],n)||n===i&&!(t in e))&&ht(e,t,n)}function wn(e,t,n){var s=e[t];(!(Y.call(e,t)&&ke(s,n))||n===i&&!(t in e))&&ht(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1}function zh(e,t,n,s){return At(e,function(a,u,h){t(s,a,n(a),h)}),s}function ua(e,t){return e&&it(t,he(t),e)}function Kh(e,t){return e&&it(t,be(t),e)}function ht(e,t,n){t=="__proto__"&&Qn?Qn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function hi(e,t){for(var n=-1,s=t.length,a=g(s),u=e==null;++n<s;)a[n]=u?i:zi(e,t[n]);return a}function $t(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Fe(e,t,n,s,a,u){var h,f=t&de,p=t&se,m=t&ce;if(n&&(h=a?n(e,s,a,u):n(e)),h!==i)return h;if(!ee(e))return e;var w=H(e);if(w){if(h=$f(e),!f)return Ae(e,h)}else{var P=ve(e),b=P==$n||P==hs;if(xt(e))return Da(e,f);if(P==ot||P==Ce||b&&!a){if(h=p||b?{}:ja(e),!f)return p?Af(e,Kh(h,e)):Cf(e,ua(h,e))}else{if(!X[P])return a?e:{};h=Hf(e,P,f)}}u||(u=new je);var x=u.get(e);if(x)return x;u.set(e,h),xo(e)?e.forEach(function(T){h.add(Fe(T,t,n,T,e,u))}):bo(e)&&e.forEach(function(T,B){h.set(B,Fe(T,t,n,B,e,u))});var R=m?p?Ri:Si:p?be:he,M=w?i:R(e);return Ue(M||e,function(T,B){M&&(B=T,T=e[B]),wn(h,B,Fe(T,t,n,B,e,u))}),h}function Jh(e){var t=he(e);return function(n){return ca(n,e,t)}}function ca(e,t,n){var s=n.length;if(e==null)return!s;for(e=Z(e);s--;){var a=n[s],u=t[a],h=e[a];if(h===i&&!(a in e)||!u(h))return!1}return!0}function ha(e,t,n){if(typeof e!="function")throw new qe(I);return En(function(){e.apply(i,n)},t)}function yn(e,t,n,s){var a=-1,u=qn,h=!0,f=e.length,p=[],m=t.length;if(!f)return p;n&&(t=V(t,Se(n))),s?(u=Qr,h=!1):t.length>=d&&(u=pn,h=!1,t=new Lt(t));e:for(;++a<f;){var w=e[a],P=n==null?w:n(w);if(w=s||w!==0?w:0,h&&P===P){for(var b=m;b--;)if(t[b]===P)continue e;p.push(w)}else u(t,P,s)||p.push(w)}return p}var At=Ma(rt),fa=Ma(li,!0);function Yh(e,t){var n=!0;return At(e,function(s,a,u){return n=!!t(s,a,u),n}),n}function rr(e,t,n){for(var s=-1,a=e.length;++s<a;){var u=e[s],h=t(u);if(h!=null&&(f===i?h===h&&!Te(h):n(h,f)))var f=h,p=u}return p}function Zh(e,t,n,s){var a=e.length;for(n=N(n),n<0&&(n=-n>a?0:a+n),s=s===i||s>a?a:N(s),s<0&&(s+=a),s=n>s?0:So(s);n<s;)e[n++]=t;return e}function la(e,t){var n=[];return At(e,function(s,a,u){t(s,a,u)&&n.push(s)}),n}function le(e,t,n,s,a){var u=-1,h=e.length;for(n||(n=Mf),a||(a=[]);++u<h;){var f=e[u];t>0&&n(f)?t>1?le(f,t-1,n,s,a):yt(a,f):s||(a[a.length]=f)}return a}var fi=Ua(),pa=Ua(!0);function rt(e,t){return e&&fi(e,t,he)}function li(e,t){return e&&pa(e,t,he)}function ir(e,t){return wt(t,function(n){return dt(e[n])})}function Ht(e,t){t=bt(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[st(t[n++])];return n&&n==s?e:i}function da(e,t,n){var s=t(e);return H(e)?s:yt(s,n(e))}function we(e){return e==null?e===i?Au:Pu:Tt&&Tt in Z(e)?Tf(e):zf(e)}function pi(e,t){return e>t}function Xh(e,t){return e!=null&&Y.call(e,t)}function Qh(e,t){return e!=null&&t in Z(e)}function jh(e,t,n){return e>=ge(t,n)&&e<ue(t,n)}function di(e,t,n){for(var s=n?Qr:qn,a=e[0].length,u=e.length,h=u,f=g(u),p=1/0,m=[];h--;){var w=e[h];h&&t&&(w=V(w,Se(t))),p=ge(w.length,p),f[h]=!n&&(t||a>=120&&w.length>=120)?new Lt(h&&w):i}w=e[0];var P=-1,b=f[0];e:for(;++P<a&&m.length<p;){var x=w[P],R=t?t(x):x;if(x=n||x!==0?x:0,!(b?pn(b,R):s(m,R,n))){for(h=u;--h;){var M=f[h];if(!(M?pn(M,R):s(e[h],R,n)))continue e}b&&b.push(R),m.push(x)}}return m}function kh(e,t,n,s){return rt(e,function(a,u,h){t(s,n(a),u,h)}),s}function Pn(e,t,n){t=bt(t,e),e=to(e,t);var s=e==null?e:e[st(Ge(t))];return s==null?i:Oe(s,e,n)}function ga(e){return te(e)&&we(e)==Ce}function Vh(e){return te(e)&&we(e)==ln}function ef(e){return te(e)&&we(e)==on}function Cn(e,t,n,s,a){return e===t?!0:e==null||t==null||!te(e)&&!te(t)?e!==e&&t!==t:tf(e,t,n,s,Cn,a)}function tf(e,t,n,s,a,u){var h=H(e),f=H(t),p=h?Dn:ve(e),m=f?Dn:ve(t);p=p==Ce?ot:p,m=m==Ce?ot:m;var w=p==ot,P=m==ot,b=p==m;if(b&&xt(e)){if(!xt(t))return!1;h=!0,w=!1}if(b&&!w)return u||(u=new je),h||en(e)?Za(e,t,n,s,a,u):Sf(e,t,p,n,s,a,u);if(!(n&nt)){var x=w&&Y.call(e,"__wrapped__"),R=P&&Y.call(t,"__wrapped__");if(x||R){var M=x?e.value():e,T=R?t.value():t;return u||(u=new je),a(M,T,n,s,u)}}return b?(u||(u=new je),Rf(e,t,n,s,a,u)):!1}function nf(e){return te(e)&&ve(e)==Ze}function gi(e,t,n,s){var a=n.length,u=a,h=!s;if(e==null)return!u;for(e=Z(e);a--;){var f=n[a];if(h&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++a<u;){f=n[a];var p=f[0],m=e[p],w=f[1];if(h&&f[2]){if(m===i&&!(p in e))return!1}else{var P=new je;if(s)var b=s(m,w,p,e,t,P);if(!(b===i?Cn(w,m,nt|Q,s,P):b))return!1}}return!0}function va(e){if(!ee(e)||qf(e))return!1;var t=dt(e)?nh:Ju;return t.test(Mt(e))}function rf(e){return te(e)&&we(e)==cn}function sf(e){return te(e)&&ve(e)==Xe}function af(e){return te(e)&&Pr(e.length)&&!!k[we(e)]}function _a(e){return typeof e=="function"?e:e==null?Ee:typeof e=="object"?H(e)?ya(e[0],e[1]):wa(e):Bo(e)}function vi(e){if(!bn(e))return uh(e);var t=[];for(var n in Z(e))Y.call(e,n)&&n!="constructor"&&t.push(n);return t}function of(e){if(!ee(e))return Gf(e);var t=bn(e),n=[];for(var s in e)s=="constructor"&&(t||!Y.call(e,s))||n.push(s);return n}function _i(e,t){return e<t}function ma(e,t){var n=-1,s=Ie(e)?g(e.length):[];return At(e,function(a,u,h){s[++n]=t(a,u,h)}),s}function wa(e){var t=Di(e);return t.length==1&&t[0][2]?Va(t[0][0],t[0][1]):function(n){return n===e||gi(n,e,t)}}function ya(e,t){return $i(e)&&ka(t)?Va(st(e),t):function(n){var s=zi(n,e);return s===i&&s===t?Ki(n,e):Cn(t,s,nt|Q)}}function sr(e,t,n,s,a){e!==t&&fi(t,function(u,h){if(a||(a=new je),ee(u))uf(e,t,h,n,sr,s,a);else{var f=s?s(Ni(e,h),u,h+"",e,t,a):i;f===i&&(f=u),ci(e,h,f)}},be)}function uf(e,t,n,s,a,u,h){var f=Ni(e,n),p=Ni(t,n),m=h.get(p);if(m){ci(e,n,m);return}var w=u?u(f,p,n+"",e,t,h):i,P=w===i;if(P){var b=H(p),x=!b&&xt(p),R=!b&&!x&&en(p);w=p,b||x||R?H(f)?w=f:re(f)?w=Ae(f):x?(P=!1,w=Da(p,!0)):R?(P=!1,w=La(p,!0)):w=[]:xn(p)||Ut(p)?(w=f,Ut(f)?w=Ro(f):(!ee(f)||dt(f))&&(w=ja(p))):P=!1}P&&(h.set(p,w),a(w,p,s,u,h),h.delete(p)),ci(e,n,w)}function Pa(e,t){var n=e.length;if(n)return t+=t<0?n:0,pt(t,n)?e[t]:i}function Ca(e,t,n){t.length?t=V(t,function(u){return H(u)?function(h){return Ht(h,u.length===1?u[0]:u)}:u}):t=[Ee];var s=-1;t=V(t,Se(S()));var a=ma(e,function(u,h,f){var p=V(t,function(m){return m(u)});return{criteria:p,index:++s,value:u}});return $c(a,function(u,h){return Pf(u,h,n)})}function cf(e,t){return Aa(e,t,function(n,s){return Ki(e,s)})}function Aa(e,t,n){for(var s=-1,a=t.length,u={};++s<a;){var h=t[s],f=Ht(e,h);n(f,h)&&An(u,bt(h,e),f)}return u}function hf(e){return function(t){return Ht(t,e)}}function mi(e,t,n,s){var a=s?Lc:Gt,u=-1,h=t.length,f=e;for(e===t&&(t=Ae(t)),n&&(f=V(e,Se(n)));++u<h;)for(var p=0,m=t[u],w=n?n(m):m;(p=a(f,w,p,s))>-1;)f!==e&&Xn.call(f,p,1),Xn.call(e,p,1);return e}function Ia(e,t){for(var n=e?t.length:0,s=n-1;n--;){var a=t[n];if(n==s||a!==u){var u=a;pt(a)?Xn.call(e,a,1):Ci(e,a)}}return e}function wi(e,t){return e+kn(ia()*(t-e+1))}function ff(e,t,n,s){for(var a=-1,u=ue(jn((t-e)/(n||1)),0),h=g(u);u--;)h[s?u:++a]=e,e+=n;return h}function yi(e,t){var n="";if(!e||t<1||t>G)return n;do t%2&&(n+=e),t=kn(t/2),t&&(e+=e);while(t);return n}function q(e,t){return Mi(eo(e,t,Ee),e+"")}function lf(e){return oa(tn(e))}function pf(e,t){var n=tn(e);return gr(n,$t(t,0,n.length))}function An(e,t,n,s){if(!ee(e))return e;t=bt(t,e);for(var a=-1,u=t.length,h=u-1,f=e;f!=null&&++a<u;){var p=st(t[a]),m=n;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(a!=h){var w=f[p];m=s?s(w,p,f):i,m===i&&(m=ee(w)?w:pt(t[a+1])?[]:{})}wn(f,p,m),f=f[p]}return e}var ba=Vn?function(e,t){return Vn.set(e,t),e}:Ee,df=Qn?function(e,t){return Qn(e,"toString",{configurable:!0,enumerable:!1,value:Yi(t),writable:!0})}:Ee;function gf(e){return gr(tn(e))}function We(e,t,n){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var u=g(a);++s<a;)u[s]=e[s+t];return u}function vf(e,t){var n;return At(e,function(s,a,u){return n=t(s,a,u),!n}),!!n}function ar(e,t,n){var s=0,a=e==null?s:e.length;if(typeof t=="number"&&t===t&&a<=Tn){for(;s<a;){var u=s+a>>>1,h=e[u];h!==null&&!Te(h)&&(n?h<=t:h<t)?s=u+1:a=u}return a}return Pi(e,t,Ee,n)}function Pi(e,t,n,s){var a=0,u=e==null?0:e.length;if(u===0)return 0;t=n(t);for(var h=t!==t,f=t===null,p=Te(t),m=t===i;a<u;){var w=kn((a+u)/2),P=n(e[w]),b=P!==i,x=P===null,R=P===P,M=Te(P);if(h)var T=s||R;else m?T=R&&(s||b):f?T=R&&b&&(s||!x):p?T=R&&b&&!x&&(s||!M):x||M?T=!1:T=s?P<=t:P<t;T?a=w+1:u=w}return ge(u,sn)}function Ea(e,t){for(var n=-1,s=e.length,a=0,u=[];++n<s;){var h=e[n],f=t?t(h):h;if(!n||!ke(f,p)){var p=f;u[a++]=h===0?0:h}}return u}function xa(e){return typeof e=="number"?e:Te(e)?U:+e}function Re(e){if(typeof e=="string")return e;if(H(e))return V(e,Re)+"";if(Te(e))return sa?sa.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function It(e,t,n){var s=-1,a=qn,u=e.length,h=!0,f=[],p=f;if(n)h=!1,a=Qr;else if(u>=d){var m=t?null:xf(e);if(m)return Fn(m);h=!1,a=pn,p=new Lt}else p=t?[]:f;e:for(;++s<u;){var w=e[s],P=t?t(w):w;if(w=n||w!==0?w:0,h&&P===P){for(var b=p.length;b--;)if(p[b]===P)continue e;t&&p.push(P),f.push(w)}else a(p,P,n)||(p!==f&&p.push(P),f.push(w))}return f}function Ci(e,t){return t=bt(t,e),e=to(e,t),e==null||delete e[st(Ge(t))]}function Oa(e,t,n,s){return An(e,t,n(Ht(e,t)),s)}function or(e,t,n,s){for(var a=e.length,u=s?a:-1;(s?u--:++u<a)&&t(e[u],u,e););return n?We(e,s?0:u,s?u+1:a):We(e,s?u+1:0,s?a:u)}function Sa(e,t){var n=e;return n instanceof F&&(n=n.value()),jr(t,function(s,a){return a.func.apply(a.thisArg,yt([s],a.args))},n)}function Ai(e,t,n){var s=e.length;if(s<2)return s?It(e[0]):[];for(var a=-1,u=g(s);++a<s;)for(var h=e[a],f=-1;++f<s;)f!=a&&(u[a]=yn(u[a]||h,e[f],t,n));return It(le(u,1),t,n)}function Ra(e,t,n){for(var s=-1,a=e.length,u=t.length,h={};++s<a;){var f=s<u?t[s]:i;n(h,e[s],f)}return h}function Ii(e){return re(e)?e:[]}function bi(e){return typeof e=="function"?e:Ee}function bt(e,t){return H(e)?e:$i(e,t)?[e]:so(J(e))}var _f=q;function Et(e,t,n){var s=e.length;return n=n===i?s:n,!t&&n>=s?e:We(e,t,n)}var Ta=rh||function(e){return fe.clearTimeout(e)};function Da(e,t){if(t)return e.slice();var n=e.length,s=Vs?Vs(n):new e.constructor(n);return e.copy(s),s}function Ei(e){var t=new e.constructor(e.byteLength);return new Yn(t).set(new Yn(e)),t}function mf(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function wf(e){var t=new e.constructor(e.source,gs.exec(e));return t.lastIndex=e.lastIndex,t}function yf(e){return mn?Z(mn.call(e)):{}}function La(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function $a(e,t){if(e!==t){var n=e!==i,s=e===null,a=e===e,u=Te(e),h=t!==i,f=t===null,p=t===t,m=Te(t);if(!f&&!m&&!u&&e>t||u&&h&&p&&!f&&!m||s&&h&&p||!n&&p||!a)return 1;if(!s&&!u&&!m&&e<t||m&&n&&a&&!s&&!u||f&&n&&a||!h&&a||!p)return-1}return 0}function Pf(e,t,n){for(var s=-1,a=e.criteria,u=t.criteria,h=a.length,f=n.length;++s<h;){var p=$a(a[s],u[s]);if(p){if(s>=f)return p;var m=n[s];return p*(m=="desc"?-1:1)}}return e.index-t.index}function Ha(e,t,n,s){for(var a=-1,u=e.length,h=n.length,f=-1,p=t.length,m=ue(u-h,0),w=g(p+m),P=!s;++f<p;)w[f]=t[f];for(;++a<h;)(P||a<u)&&(w[n[a]]=e[a]);for(;m--;)w[f++]=e[a++];return w}function Na(e,t,n,s){for(var a=-1,u=e.length,h=-1,f=n.length,p=-1,m=t.length,w=ue(u-f,0),P=g(w+m),b=!s;++a<w;)P[a]=e[a];for(var x=a;++p<m;)P[x+p]=t[p];for(;++h<f;)(b||a<u)&&(P[x+n[h]]=e[a++]);return P}function Ae(e,t){var n=-1,s=e.length;for(t||(t=g(s));++n<s;)t[n]=e[n];return t}function it(e,t,n,s){var a=!n;n||(n={});for(var u=-1,h=t.length;++u<h;){var f=t[u],p=s?s(n[f],e[f],f,n,e):i;p===i&&(p=e[f]),a?ht(n,f,p):wn(n,f,p)}return n}function Cf(e,t){return it(e,Li(e),t)}function Af(e,t){return it(e,Xa(e),t)}function ur(e,t){return function(n,s){var a=H(n)?xc:zh,u=t?t():{};return a(n,e,S(s,2),u)}}function jt(e){return q(function(t,n){var s=-1,a=n.length,u=a>1?n[a-1]:i,h=a>2?n[2]:i;for(u=e.length>3&&typeof u=="function"?(a--,u):i,h&&ye(n[0],n[1],h)&&(u=a<3?i:u,a=1),t=Z(t);++s<a;){var f=n[s];f&&e(t,f,s,u)}return t})}function Ma(e,t){return function(n,s){if(n==null)return n;if(!Ie(n))return e(n,s);for(var a=n.length,u=t?a:-1,h=Z(n);(t?u--:++u<a)&&s(h[u],u,h)!==!1;);return n}}function Ua(e){return function(t,n,s){for(var a=-1,u=Z(t),h=s(t),f=h.length;f--;){var p=h[e?f:++a];if(n(u[p],p,u)===!1)break}return t}}function If(e,t,n){var s=t&_e,a=In(e);function u(){var h=this&&this!==fe&&this instanceof u?a:e;return h.apply(s?n:this,arguments)}return u}function qa(e){return function(t){t=J(t);var n=zt(t)?Qe(t):i,s=n?n[0]:t.charAt(0),a=n?Et(n,1).join(""):t.slice(1);return s[e]()+a}}function kt(e){return function(t){return jr(Uo(Mo(t).replace(pc,"")),e,"")}}function In(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Qt(e.prototype),s=e.apply(n,t);return ee(s)?s:n}}function bf(e,t,n){var s=In(e);function a(){for(var u=arguments.length,h=g(u),f=u,p=Vt(a);f--;)h[f]=arguments[f];var m=u<3&&h[0]!==p&&h[u-1]!==p?[]:Pt(h,p);if(u-=m.length,u<n)return za(e,t,cr,a.placeholder,i,h,m,i,i,n-u);var w=this&&this!==fe&&this instanceof a?s:e;return Oe(w,this,h)}return a}function Ba(e){return function(t,n,s){var a=Z(t);if(!Ie(t)){var u=S(n,3);t=he(t),n=function(f){return u(a[f],f,a)}}var h=e(t,n,s);return h>-1?a[u?t[h]:h]:i}}function Fa(e){return lt(function(t){var n=t.length,s=n,a=Be.prototype.thru;for(e&&t.reverse();s--;){var u=t[s];if(typeof u!="function")throw new qe(I);if(a&&!h&&pr(u)=="wrapper")var h=new Be([],!0)}for(s=h?s:n;++s<n;){u=t[s];var f=pr(u),p=f=="wrapper"?Ti(u):i;p&&Hi(p[0])&&p[1]==(Ye|Je|He|St)&&!p[4].length&&p[9]==1?h=h[pr(p[0])].apply(h,p[3]):h=u.length==1&&Hi(u)?h[f]():h.thru(u)}return function(){var m=arguments,w=m[0];if(h&&m.length==1&&H(w))return h.plant(w).value();for(var P=0,b=n?t[P].apply(this,m):w;++P<n;)b=t[P].call(this,b);return b}})}function cr(e,t,n,s,a,u,h,f,p,m){var w=t&Ye,P=t&_e,b=t&at,x=t&(Je|Ot),R=t&Ne,M=b?i:In(e);function T(){for(var B=arguments.length,W=g(B),De=B;De--;)W[De]=arguments[De];if(x)var Pe=Vt(T),Le=Nc(W,Pe);if(s&&(W=Ha(W,s,a,x)),u&&(W=Na(W,u,h,x)),B-=Le,x&&B<m){var ie=Pt(W,Pe);return za(e,t,cr,T.placeholder,n,W,ie,f,p,m-B)}var Ve=P?n:this,vt=b?Ve[e]:e;return B=W.length,f?W=Kf(W,f):R&&B>1&&W.reverse(),w&&p<B&&(W.length=p),this&&this!==fe&&this instanceof T&&(vt=M||In(vt)),vt.apply(Ve,W)}return T}function Wa(e,t){return function(n,s){return kh(n,e,t(s),{})}}function hr(e,t){return function(n,s){var a;if(n===i&&s===i)return t;if(n!==i&&(a=n),s!==i){if(a===i)return s;typeof n=="string"||typeof s=="string"?(n=Re(n),s=Re(s)):(n=xa(n),s=xa(s)),a=e(n,s)}return a}}function xi(e){return lt(function(t){return t=V(t,Se(S())),q(function(n){var s=this;return e(t,function(a){return Oe(a,s,n)})})})}function fr(e,t){t=t===i?" ":Re(t);var n=t.length;if(n<2)return n?yi(t,e):t;var s=yi(t,jn(e/Kt(t)));return zt(t)?Et(Qe(s),0,e).join(""):s.slice(0,e)}function Ef(e,t,n,s){var a=t&_e,u=In(e);function h(){for(var f=-1,p=arguments.length,m=-1,w=s.length,P=g(w+p),b=this&&this!==fe&&this instanceof h?u:e;++m<w;)P[m]=s[m];for(;p--;)P[m++]=arguments[++f];return Oe(b,a?n:this,P)}return h}function Ga(e){return function(t,n,s){return s&&typeof s!="number"&&ye(t,n,s)&&(n=s=i),t=gt(t),n===i?(n=t,t=0):n=gt(n),s=s===i?t<n?1:-1:gt(s),ff(t,n,s,e)}}function lr(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=ze(t),n=ze(n)),e(t,n)}}function za(e,t,n,s,a,u,h,f,p,m){var w=t&Je,P=w?h:i,b=w?i:h,x=w?u:i,R=w?i:u;t|=w?He:mt,t&=~(w?mt:He),t&Rn||(t&=-4);var M=[e,t,a,x,P,R,b,f,p,m],T=n.apply(i,M);return Hi(e)&&no(T,M),T.placeholder=s,ro(T,e,t)}function Oi(e){var t=oe[e];return function(n,s){if(n=ze(n),s=s==null?0:ge(N(s),292),s&&ra(n)){var a=(J(n)+"e").split("e"),u=t(a[0]+"e"+(+a[1]+s));return a=(J(u)+"e").split("e"),+(a[0]+"e"+(+a[1]-s))}return t(n)}}var xf=Zt&&1/Fn(new Zt([,-0]))[1]==$?function(e){return new Zt(e)}:Qi;function Ka(e){return function(t){var n=ve(t);return n==Ze?ii(t):n==Xe?Gc(t):Hc(t,e(t))}}function ft(e,t,n,s,a,u,h,f){var p=t&at;if(!p&&typeof e!="function")throw new qe(I);var m=s?s.length:0;if(m||(t&=-97,s=a=i),h=h===i?h:ue(N(h),0),f=f===i?f:N(f),m-=a?a.length:0,t&mt){var w=s,P=a;s=a=i}var b=p?i:Ti(e),x=[e,t,n,s,a,w,P,u,h,f];if(b&&Wf(x,b),e=x[0],t=x[1],n=x[2],s=x[3],a=x[4],f=x[9]=x[9]===i?p?0:e.length:ue(x[9]-m,0),!f&&t&(Je|Ot)&&(t&=-25),!t||t==_e)var R=If(e,t,n);else t==Je||t==Ot?R=bf(e,t,f):(t==He||t==(_e|He))&&!a.length?R=Ef(e,t,n,s):R=cr.apply(i,x);var M=b?ba:no;return ro(M(R,x),e,t)}function Ja(e,t,n,s){return e===i||ke(e,Yt[n])&&!Y.call(s,n)?t:e}function Ya(e,t,n,s,a,u){return ee(e)&&ee(t)&&(u.set(t,e),sr(e,t,i,Ya,u),u.delete(t)),e}function Of(e){return xn(e)?i:e}function Za(e,t,n,s,a,u){var h=n&nt,f=e.length,p=t.length;if(f!=p&&!(h&&p>f))return!1;var m=u.get(e),w=u.get(t);if(m&&w)return m==t&&w==e;var P=-1,b=!0,x=n&Q?new Lt:i;for(u.set(e,t),u.set(t,e);++P<f;){var R=e[P],M=t[P];if(s)var T=h?s(M,R,P,t,e,u):s(R,M,P,e,t,u);if(T!==i){if(T)continue;b=!1;break}if(x){if(!kr(t,function(B,W){if(!pn(x,W)&&(R===B||a(R,B,n,s,u)))return x.push(W)})){b=!1;break}}else if(!(R===M||a(R,M,n,s,u))){b=!1;break}}return u.delete(e),u.delete(t),b}function Sf(e,t,n,s,a,u,h){switch(n){case Ft:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ln:return!(e.byteLength!=t.byteLength||!u(new Yn(e),new Yn(t)));case an:case on:case un:return ke(+e,+t);case Ln:return e.name==t.name&&e.message==t.message;case cn:case hn:return e==t+"";case Ze:var f=ii;case Xe:var p=s&nt;if(f||(f=Fn),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;s|=Q,h.set(e,t);var w=Za(f(e),f(t),s,a,u,h);return h.delete(e),w;case Hn:if(mn)return mn.call(e)==mn.call(t)}return!1}function Rf(e,t,n,s,a,u){var h=n&nt,f=Si(e),p=f.length,m=Si(t),w=m.length;if(p!=w&&!h)return!1;for(var P=p;P--;){var b=f[P];if(!(h?b in t:Y.call(t,b)))return!1}var x=u.get(e),R=u.get(t);if(x&&R)return x==t&&R==e;var M=!0;u.set(e,t),u.set(t,e);for(var T=h;++P<p;){b=f[P];var B=e[b],W=t[b];if(s)var De=h?s(W,B,b,t,e,u):s(B,W,b,e,t,u);if(!(De===i?B===W||a(B,W,n,s,u):De)){M=!1;break}T||(T=b=="constructor")}if(M&&!T){var Pe=e.constructor,Le=t.constructor;Pe!=Le&&"constructor"in e&&"constructor"in t&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof Le=="function"&&Le instanceof Le)&&(M=!1)}return u.delete(e),u.delete(t),M}function lt(e){return Mi(eo(e,i,co),e+"")}function Si(e){return da(e,he,Li)}function Ri(e){return da(e,be,Xa)}var Ti=Vn?function(e){return Vn.get(e)}:Qi;function pr(e){for(var t=e.name+"",n=Xt[t],s=Y.call(Xt,t)?n.length:0;s--;){var a=n[s],u=a.func;if(u==null||u==e)return a.name}return t}function Vt(e){var t=Y.call(o,"placeholder")?o:e;return t.placeholder}function S(){var e=o.iteratee||Zi;return e=e===Zi?_a:e,arguments.length?e(arguments[0],arguments[1]):e}function dr(e,t){var n=e.__data__;return Uf(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Di(e){for(var t=he(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,ka(a)]}return t}function Nt(e,t){var n=Bc(e,t);return va(n)?n:i}function Tf(e){var t=Y.call(e,Tt),n=e[Tt];try{e[Tt]=i;var s=!0}catch{}var a=Kn.call(e);return s&&(t?e[Tt]=n:delete e[Tt]),a}var Li=ai?function(e){return e==null?[]:(e=Z(e),wt(ai(e),function(t){return ta.call(e,t)}))}:ji,Xa=ai?function(e){for(var t=[];e;)yt(t,Li(e)),e=Zn(e);return t}:ji,ve=we;(oi&&ve(new oi(new ArrayBuffer(1)))!=Ft||gn&&ve(new gn)!=Ze||ui&&ve(ui.resolve())!=fs||Zt&&ve(new Zt)!=Xe||vn&&ve(new vn)!=fn)&&(ve=function(e){var t=we(e),n=t==ot?e.constructor:i,s=n?Mt(n):"";if(s)switch(s){case lh:return Ft;case ph:return Ze;case dh:return fs;case gh:return Xe;case vh:return fn}return t});function Df(e,t,n){for(var s=-1,a=n.length;++s<a;){var u=n[s],h=u.size;switch(u.type){case"drop":e+=h;break;case"dropRight":t-=h;break;case"take":t=ge(t,e+h);break;case"takeRight":e=ue(e,t-h);break}}return{start:e,end:t}}function Lf(e){var t=e.match(Uu);return t?t[1].split(qu):[]}function Qa(e,t,n){t=bt(t,e);for(var s=-1,a=t.length,u=!1;++s<a;){var h=st(t[s]);if(!(u=e!=null&&n(e,h)))break;e=e[h]}return u||++s!=a?u:(a=e==null?0:e.length,!!a&&Pr(a)&&pt(h,a)&&(H(e)||Ut(e)))}function $f(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Y.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ja(e){return typeof e.constructor=="function"&&!bn(e)?Qt(Zn(e)):{}}function Hf(e,t,n){var s=e.constructor;switch(t){case ln:return Ei(e);case an:case on:return new s(+e);case Ft:return mf(e,n);case Dr:case Lr:case $r:case Hr:case Nr:case Mr:case Ur:case qr:case Br:return La(e,n);case Ze:return new s;case un:case hn:return new s(e);case cn:return wf(e);case Xe:return new s;case Hn:return yf(e)}}function Nf(e,t){var n=t.length;if(!n)return e;var s=n-1;return t[s]=(n>1?"& ":"")+t[s],t=t.join(n>2?", ":" "),e.replace(Mu,`{
/* [wrapped with `+t+`] */
`)}function Mf(e){return H(e)||Ut(e)||!!(na&&e&&e[na])}function pt(e,t){var n=typeof e;return t=t??G,!!t&&(n=="number"||n!="symbol"&&Zu.test(e))&&e>-1&&e%1==0&&e<t}function ye(e,t,n){if(!ee(n))return!1;var s=typeof t;return(s=="number"?Ie(n)&&pt(t,n.length):s=="string"&&t in n)?ke(n[t],e):!1}function $i(e,t){if(H(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Te(e)?!0:Lu.test(e)||!Du.test(e)||t!=null&&e in Z(t)}function Uf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Hi(e){var t=pr(e),n=o[t];if(typeof n!="function"||!(t in F.prototype))return!1;if(e===n)return!0;var s=Ti(n);return!!s&&e===s[0]}function qf(e){return!!ks&&ks in e}var Bf=Gn?dt:ki;function bn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Yt;return e===n}function ka(e){return e===e&&!ee(e)}function Va(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in Z(n))}}function Ff(e){var t=wr(e,function(s){return n.size===ne&&n.clear(),s}),n=t.cache;return t}function Wf(e,t){var n=e[1],s=t[1],a=n|s,u=a<(_e|at|Ye),h=s==Ye&&n==Je||s==Ye&&n==St&&e[7].length<=t[8]||s==(Ye|St)&&t[7].length<=t[8]&&n==Je;if(!(u||h))return e;s&_e&&(e[2]=t[2],a|=n&_e?0:Rn);var f=t[3];if(f){var p=e[3];e[3]=p?Ha(p,f,t[4]):f,e[4]=p?Pt(e[3],pe):t[4]}return f=t[5],f&&(p=e[5],e[5]=p?Na(p,f,t[6]):f,e[6]=p?Pt(e[5],pe):t[6]),f=t[7],f&&(e[7]=f),s&Ye&&(e[8]=e[8]==null?t[8]:ge(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}function Gf(e){var t=[];if(e!=null)for(var n in Z(e))t.push(n);return t}function zf(e){return Kn.call(e)}function eo(e,t,n){return t=ue(t===i?e.length-1:t,0),function(){for(var s=arguments,a=-1,u=ue(s.length-t,0),h=g(u);++a<u;)h[a]=s[t+a];a=-1;for(var f=g(t+1);++a<t;)f[a]=s[a];return f[t]=n(h),Oe(e,this,f)}}function to(e,t){return t.length<2?e:Ht(e,We(t,0,-1))}function Kf(e,t){for(var n=e.length,s=ge(t.length,n),a=Ae(e);s--;){var u=t[s];e[s]=pt(u,n)?a[u]:i}return e}function Ni(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var no=io(ba),En=sh||function(e,t){return fe.setTimeout(e,t)},Mi=io(df);function ro(e,t,n){var s=t+"";return Mi(e,Nf(s,Jf(Lf(s),n)))}function io(e){var t=0,n=0;return function(){var s=ch(),a=Tr-(s-n);if(n=s,a>0){if(++t>=xe)return arguments[0]}else t=0;return e.apply(i,arguments)}}function gr(e,t){var n=-1,s=e.length,a=s-1;for(t=t===i?s:t;++n<t;){var u=wi(n,a),h=e[u];e[u]=e[n],e[n]=h}return e.length=t,e}var so=Ff(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($u,function(n,s,a,u){t.push(a?u.replace(Wu,"$1"):s||n)}),t});function st(e){if(typeof e=="string"||Te(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Mt(e){if(e!=null){try{return zn.call(e)}catch{}try{return e+""}catch{}}return""}function Jf(e,t){return Ue(ae,function(n){var s="_."+n[0];t&n[1]&&!qn(e,s)&&e.push(s)}),e.sort()}function ao(e){if(e instanceof F)return e.clone();var t=new Be(e.__wrapped__,e.__chain__);return t.__actions__=Ae(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Yf(e,t,n){(n?ye(e,t,n):t===i)?t=1:t=ue(N(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var a=0,u=0,h=g(jn(s/t));a<s;)h[u++]=We(e,a,a+=t);return h}function Zf(e){for(var t=-1,n=e==null?0:e.length,s=0,a=[];++t<n;){var u=e[t];u&&(a[s++]=u)}return a}function Xf(){var e=arguments.length;if(!e)return[];for(var t=g(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return yt(H(n)?Ae(n):[n],le(t,1))}var Qf=q(function(e,t){return re(e)?yn(e,le(t,1,re,!0)):[]}),jf=q(function(e,t){var n=Ge(t);return re(n)&&(n=i),re(e)?yn(e,le(t,1,re,!0),S(n,2)):[]}),kf=q(function(e,t){var n=Ge(t);return re(n)&&(n=i),re(e)?yn(e,le(t,1,re,!0),i,n):[]});function Vf(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===i?1:N(t),We(e,t<0?0:t,s)):[]}function el(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===i?1:N(t),t=s-t,We(e,0,t<0?0:t)):[]}function tl(e,t){return e&&e.length?or(e,S(t,3),!0,!0):[]}function nl(e,t){return e&&e.length?or(e,S(t,3),!0):[]}function rl(e,t,n,s){var a=e==null?0:e.length;return a?(n&&typeof n!="number"&&ye(e,t,n)&&(n=0,s=a),Zh(e,t,n,s)):[]}function oo(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:N(n);return a<0&&(a=ue(s+a,0)),Bn(e,S(t,3),a)}function uo(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=s-1;return n!==i&&(a=N(n),a=n<0?ue(s+a,0):ge(a,s-1)),Bn(e,S(t,3),a,!0)}function co(e){var t=e==null?0:e.length;return t?le(e,1):[]}function il(e){var t=e==null?0:e.length;return t?le(e,$):[]}function sl(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:N(t),le(e,t)):[]}function al(e){for(var t=-1,n=e==null?0:e.length,s={};++t<n;){var a=e[t];s[a[0]]=a[1]}return s}function ho(e){return e&&e.length?e[0]:i}function ol(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:N(n);return a<0&&(a=ue(s+a,0)),Gt(e,t,a)}function ul(e){var t=e==null?0:e.length;return t?We(e,0,-1):[]}var cl=q(function(e){var t=V(e,Ii);return t.length&&t[0]===e[0]?di(t):[]}),hl=q(function(e){var t=Ge(e),n=V(e,Ii);return t===Ge(n)?t=i:n.pop(),n.length&&n[0]===e[0]?di(n,S(t,2)):[]}),fl=q(function(e){var t=Ge(e),n=V(e,Ii);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?di(n,i,t):[]});function ll(e,t){return e==null?"":oh.call(e,t)}function Ge(e){var t=e==null?0:e.length;return t?e[t-1]:i}function pl(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=s;return n!==i&&(a=N(n),a=a<0?ue(s+a,0):ge(a,s-1)),t===t?Kc(e,t,a):Bn(e,zs,a,!0)}function dl(e,t){return e&&e.length?Pa(e,N(t)):i}var gl=q(fo);function fo(e,t){return e&&e.length&&t&&t.length?mi(e,t):e}function vl(e,t,n){return e&&e.length&&t&&t.length?mi(e,t,S(n,2)):e}function _l(e,t,n){return e&&e.length&&t&&t.length?mi(e,t,i,n):e}var ml=lt(function(e,t){var n=e==null?0:e.length,s=hi(e,t);return Ia(e,V(t,function(a){return pt(a,n)?+a:a}).sort($a)),s});function wl(e,t){var n=[];if(!(e&&e.length))return n;var s=-1,a=[],u=e.length;for(t=S(t,3);++s<u;){var h=e[s];t(h,s,e)&&(n.push(h),a.push(s))}return Ia(e,a),n}function Ui(e){return e==null?e:fh.call(e)}function yl(e,t,n){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&ye(e,t,n)?(t=0,n=s):(t=t==null?0:N(t),n=n===i?s:N(n)),We(e,t,n)):[]}function Pl(e,t){return ar(e,t)}function Cl(e,t,n){return Pi(e,t,S(n,2))}function Al(e,t){var n=e==null?0:e.length;if(n){var s=ar(e,t);if(s<n&&ke(e[s],t))return s}return-1}function Il(e,t){return ar(e,t,!0)}function bl(e,t,n){return Pi(e,t,S(n,2),!0)}function El(e,t){var n=e==null?0:e.length;if(n){var s=ar(e,t,!0)-1;if(ke(e[s],t))return s}return-1}function xl(e){return e&&e.length?Ea(e):[]}function Ol(e,t){return e&&e.length?Ea(e,S(t,2)):[]}function Sl(e){var t=e==null?0:e.length;return t?We(e,1,t):[]}function Rl(e,t,n){return e&&e.length?(t=n||t===i?1:N(t),We(e,0,t<0?0:t)):[]}function Tl(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===i?1:N(t),t=s-t,We(e,t<0?0:t,s)):[]}function Dl(e,t){return e&&e.length?or(e,S(t,3),!1,!0):[]}function Ll(e,t){return e&&e.length?or(e,S(t,3)):[]}var $l=q(function(e){return It(le(e,1,re,!0))}),Hl=q(function(e){var t=Ge(e);return re(t)&&(t=i),It(le(e,1,re,!0),S(t,2))}),Nl=q(function(e){var t=Ge(e);return t=typeof t=="function"?t:i,It(le(e,1,re,!0),i,t)});function Ml(e){return e&&e.length?It(e):[]}function Ul(e,t){return e&&e.length?It(e,S(t,2)):[]}function ql(e,t){return t=typeof t=="function"?t:i,e&&e.length?It(e,i,t):[]}function qi(e){if(!(e&&e.length))return[];var t=0;return e=wt(e,function(n){if(re(n))return t=ue(n.length,t),!0}),ni(t,function(n){return V(e,Vr(n))})}function lo(e,t){if(!(e&&e.length))return[];var n=qi(e);return t==null?n:V(n,function(s){return Oe(t,i,s)})}var Bl=q(function(e,t){return re(e)?yn(e,t):[]}),Fl=q(function(e){return Ai(wt(e,re))}),Wl=q(function(e){var t=Ge(e);return re(t)&&(t=i),Ai(wt(e,re),S(t,2))}),Gl=q(function(e){var t=Ge(e);return t=typeof t=="function"?t:i,Ai(wt(e,re),i,t)}),zl=q(qi);function Kl(e,t){return Ra(e||[],t||[],wn)}function Jl(e,t){return Ra(e||[],t||[],An)}var Yl=q(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,lo(e,n)});function po(e){var t=o(e);return t.__chain__=!0,t}function Zl(e,t){return t(e),e}function vr(e,t){return t(e)}var Xl=lt(function(e){var t=e.length,n=t?e[0]:0,s=this.__wrapped__,a=function(u){return hi(u,e)};return t>1||this.__actions__.length||!(s instanceof F)||!pt(n)?this.thru(a):(s=s.slice(n,+n+(t?1:0)),s.__actions__.push({func:vr,args:[a],thisArg:i}),new Be(s,this.__chain__).thru(function(u){return t&&!u.length&&u.push(i),u}))});function Ql(){return po(this)}function jl(){return new Be(this.value(),this.__chain__)}function kl(){this.__values__===i&&(this.__values__=Oo(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Vl(){return this}function ep(e){for(var t,n=this;n instanceof tr;){var s=ao(n);s.__index__=0,s.__values__=i,t?a.__wrapped__=s:t=s;var a=s;n=n.__wrapped__}return a.__wrapped__=e,t}function tp(){var e=this.__wrapped__;if(e instanceof F){var t=e;return this.__actions__.length&&(t=new F(this)),t=t.reverse(),t.__actions__.push({func:vr,args:[Ui],thisArg:i}),new Be(t,this.__chain__)}return this.thru(Ui)}function np(){return Sa(this.__wrapped__,this.__actions__)}var rp=ur(function(e,t,n){Y.call(e,n)?++e[n]:ht(e,n,1)});function ip(e,t,n){var s=H(e)?Ws:Yh;return n&&ye(e,t,n)&&(t=i),s(e,S(t,3))}function sp(e,t){var n=H(e)?wt:la;return n(e,S(t,3))}var ap=Ba(oo),op=Ba(uo);function up(e,t){return le(_r(e,t),1)}function cp(e,t){return le(_r(e,t),$)}function hp(e,t,n){return n=n===i?1:N(n),le(_r(e,t),n)}function go(e,t){var n=H(e)?Ue:At;return n(e,S(t,3))}function vo(e,t){var n=H(e)?Oc:fa;return n(e,S(t,3))}var fp=ur(function(e,t,n){Y.call(e,n)?e[n].push(t):ht(e,n,[t])});function lp(e,t,n,s){e=Ie(e)?e:tn(e),n=n&&!s?N(n):0;var a=e.length;return n<0&&(n=ue(a+n,0)),Cr(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Gt(e,t,n)>-1}var pp=q(function(e,t,n){var s=-1,a=typeof t=="function",u=Ie(e)?g(e.length):[];return At(e,function(h){u[++s]=a?Oe(t,h,n):Pn(h,t,n)}),u}),dp=ur(function(e,t,n){ht(e,n,t)});function _r(e,t){var n=H(e)?V:ma;return n(e,S(t,3))}function gp(e,t,n,s){return e==null?[]:(H(t)||(t=t==null?[]:[t]),n=s?i:n,H(n)||(n=n==null?[]:[n]),Ca(e,t,n))}var vp=ur(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function _p(e,t,n){var s=H(e)?jr:Js,a=arguments.length<3;return s(e,S(t,4),n,a,At)}function mp(e,t,n){var s=H(e)?Sc:Js,a=arguments.length<3;return s(e,S(t,4),n,a,fa)}function wp(e,t){var n=H(e)?wt:la;return n(e,yr(S(t,3)))}function yp(e){var t=H(e)?oa:lf;return t(e)}function Pp(e,t,n){(n?ye(e,t,n):t===i)?t=1:t=N(t);var s=H(e)?Wh:pf;return s(e,t)}function Cp(e){var t=H(e)?Gh:gf;return t(e)}function Ap(e){if(e==null)return 0;if(Ie(e))return Cr(e)?Kt(e):e.length;var t=ve(e);return t==Ze||t==Xe?e.size:vi(e).length}function Ip(e,t,n){var s=H(e)?kr:vf;return n&&ye(e,t,n)&&(t=i),s(e,S(t,3))}var bp=q(function(e,t){if(e==null)return[];var n=t.length;return n>1&&ye(e,t[0],t[1])?t=[]:n>2&&ye(t[0],t[1],t[2])&&(t=[t[0]]),Ca(e,le(t,1),[])}),mr=ih||function(){return fe.Date.now()};function Ep(e,t){if(typeof t!="function")throw new qe(I);return e=N(e),function(){if(--e<1)return t.apply(this,arguments)}}function _o(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,ft(e,Ye,i,i,i,i,t)}function mo(e,t){var n;if(typeof t!="function")throw new qe(I);return e=N(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Bi=q(function(e,t,n){var s=_e;if(n.length){var a=Pt(n,Vt(Bi));s|=He}return ft(e,s,t,n,a)}),wo=q(function(e,t,n){var s=_e|at;if(n.length){var a=Pt(n,Vt(wo));s|=He}return ft(t,s,e,n,a)});function yo(e,t,n){t=n?i:t;var s=ft(e,Je,i,i,i,i,i,t);return s.placeholder=yo.placeholder,s}function Po(e,t,n){t=n?i:t;var s=ft(e,Ot,i,i,i,i,i,t);return s.placeholder=Po.placeholder,s}function Co(e,t,n){var s,a,u,h,f,p,m=0,w=!1,P=!1,b=!0;if(typeof e!="function")throw new qe(I);t=ze(t)||0,ee(n)&&(w=!!n.leading,P="maxWait"in n,u=P?ue(ze(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b);function x(ie){var Ve=s,vt=a;return s=a=i,m=ie,h=e.apply(vt,Ve),h}function R(ie){return m=ie,f=En(B,t),w?x(ie):h}function M(ie){var Ve=ie-p,vt=ie-m,Fo=t-Ve;return P?ge(Fo,u-vt):Fo}function T(ie){var Ve=ie-p,vt=ie-m;return p===i||Ve>=t||Ve<0||P&&vt>=u}function B(){var ie=mr();if(T(ie))return W(ie);f=En(B,M(ie))}function W(ie){return f=i,b&&s?x(ie):(s=a=i,h)}function De(){f!==i&&Ta(f),m=0,s=p=a=f=i}function Pe(){return f===i?h:W(mr())}function Le(){var ie=mr(),Ve=T(ie);if(s=arguments,a=this,p=ie,Ve){if(f===i)return R(p);if(P)return Ta(f),f=En(B,t),x(p)}return f===i&&(f=En(B,t)),h}return Le.cancel=De,Le.flush=Pe,Le}var xp=q(function(e,t){return ha(e,1,t)}),Op=q(function(e,t,n){return ha(e,ze(t)||0,n)});function Sp(e){return ft(e,Ne)}function wr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new qe(I);var n=function(){var s=arguments,a=t?t.apply(this,s):s[0],u=n.cache;if(u.has(a))return u.get(a);var h=e.apply(this,s);return n.cache=u.set(a,h)||u,h};return n.cache=new(wr.Cache||ct),n}wr.Cache=ct;function yr(e){if(typeof e!="function")throw new qe(I);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Rp(e){return mo(2,e)}var Tp=_f(function(e,t){t=t.length==1&&H(t[0])?V(t[0],Se(S())):V(le(t,1),Se(S()));var n=t.length;return q(function(s){for(var a=-1,u=ge(s.length,n);++a<u;)s[a]=t[a].call(this,s[a]);return Oe(e,this,s)})}),Fi=q(function(e,t){var n=Pt(t,Vt(Fi));return ft(e,He,i,t,n)}),Ao=q(function(e,t){var n=Pt(t,Vt(Ao));return ft(e,mt,i,t,n)}),Dp=lt(function(e,t){return ft(e,St,i,i,i,t)});function Lp(e,t){if(typeof e!="function")throw new qe(I);return t=t===i?t:N(t),q(e,t)}function $p(e,t){if(typeof e!="function")throw new qe(I);return t=t==null?0:ue(N(t),0),q(function(n){var s=n[t],a=Et(n,0,t);return s&&yt(a,s),Oe(e,this,a)})}function Hp(e,t,n){var s=!0,a=!0;if(typeof e!="function")throw new qe(I);return ee(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),Co(e,t,{leading:s,maxWait:t,trailing:a})}function Np(e){return _o(e,1)}function Mp(e,t){return Fi(bi(t),e)}function Up(){if(!arguments.length)return[];var e=arguments[0];return H(e)?e:[e]}function qp(e){return Fe(e,ce)}function Bp(e,t){return t=typeof t=="function"?t:i,Fe(e,ce,t)}function Fp(e){return Fe(e,de|ce)}function Wp(e,t){return t=typeof t=="function"?t:i,Fe(e,de|ce,t)}function Gp(e,t){return t==null||ca(e,t,he(t))}function ke(e,t){return e===t||e!==e&&t!==t}var zp=lr(pi),Kp=lr(function(e,t){return e>=t}),Ut=ga(function(){return arguments}())?ga:function(e){return te(e)&&Y.call(e,"callee")&&!ta.call(e,"callee")},H=g.isArray,Jp=Ns?Se(Ns):Vh;function Ie(e){return e!=null&&Pr(e.length)&&!dt(e)}function re(e){return te(e)&&Ie(e)}function Yp(e){return e===!0||e===!1||te(e)&&we(e)==an}var xt=ah||ki,Zp=Ms?Se(Ms):ef;function Xp(e){return te(e)&&e.nodeType===1&&!xn(e)}function Qp(e){if(e==null)return!0;if(Ie(e)&&(H(e)||typeof e=="string"||typeof e.splice=="function"||xt(e)||en(e)||Ut(e)))return!e.length;var t=ve(e);if(t==Ze||t==Xe)return!e.size;if(bn(e))return!vi(e).length;for(var n in e)if(Y.call(e,n))return!1;return!0}function jp(e,t){return Cn(e,t)}function kp(e,t,n){n=typeof n=="function"?n:i;var s=n?n(e,t):i;return s===i?Cn(e,t,i,n):!!s}function Wi(e){if(!te(e))return!1;var t=we(e);return t==Ln||t==yu||typeof e.message=="string"&&typeof e.name=="string"&&!xn(e)}function Vp(e){return typeof e=="number"&&ra(e)}function dt(e){if(!ee(e))return!1;var t=we(e);return t==$n||t==hs||t==wu||t==Cu}function Io(e){return typeof e=="number"&&e==N(e)}function Pr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=G}function ee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function te(e){return e!=null&&typeof e=="object"}var bo=Us?Se(Us):nf;function ed(e,t){return e===t||gi(e,t,Di(t))}function td(e,t,n){return n=typeof n=="function"?n:i,gi(e,t,Di(t),n)}function nd(e){return Eo(e)&&e!=+e}function rd(e){if(Bf(e))throw new D(C);return va(e)}function id(e){return e===null}function sd(e){return e==null}function Eo(e){return typeof e=="number"||te(e)&&we(e)==un}function xn(e){if(!te(e)||we(e)!=ot)return!1;var t=Zn(e);if(t===null)return!0;var n=Y.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&zn.call(n)==eh}var Gi=qs?Se(qs):rf;function ad(e){return Io(e)&&e>=-9007199254740991&&e<=G}var xo=Bs?Se(Bs):sf;function Cr(e){return typeof e=="string"||!H(e)&&te(e)&&we(e)==hn}function Te(e){return typeof e=="symbol"||te(e)&&we(e)==Hn}var en=Fs?Se(Fs):af;function od(e){return e===i}function ud(e){return te(e)&&ve(e)==fn}function cd(e){return te(e)&&we(e)==Iu}var hd=lr(_i),fd=lr(function(e,t){return e<=t});function Oo(e){if(!e)return[];if(Ie(e))return Cr(e)?Qe(e):Ae(e);if(dn&&e[dn])return Wc(e[dn]());var t=ve(e),n=t==Ze?ii:t==Xe?Fn:tn;return n(e)}function gt(e){if(!e)return e===0?e:0;if(e=ze(e),e===$||e===-1/0){var t=e<0?-1:1;return t*j}return e===e?e:0}function N(e){var t=gt(e),n=t%1;return t===t?n?t-n:t:0}function So(e){return e?$t(N(e),0,me):0}function ze(e){if(typeof e=="number")return e;if(Te(e))return U;if(ee(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ee(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ys(e);var n=Ku.test(e);return n||Yu.test(e)?bc(e.slice(2),n?2:8):zu.test(e)?U:+e}function Ro(e){return it(e,be(e))}function ld(e){return e?$t(N(e),-9007199254740991,G):e===0?e:0}function J(e){return e==null?"":Re(e)}var pd=jt(function(e,t){if(bn(t)||Ie(t)){it(t,he(t),e);return}for(var n in t)Y.call(t,n)&&wn(e,n,t[n])}),To=jt(function(e,t){it(t,be(t),e)}),Ar=jt(function(e,t,n,s){it(t,be(t),e,s)}),dd=jt(function(e,t,n,s){it(t,he(t),e,s)}),gd=lt(hi);function vd(e,t){var n=Qt(e);return t==null?n:ua(n,t)}var _d=q(function(e,t){e=Z(e);var n=-1,s=t.length,a=s>2?t[2]:i;for(a&&ye(t[0],t[1],a)&&(s=1);++n<s;)for(var u=t[n],h=be(u),f=-1,p=h.length;++f<p;){var m=h[f],w=e[m];(w===i||ke(w,Yt[m])&&!Y.call(e,m))&&(e[m]=u[m])}return e}),md=q(function(e){return e.push(i,Ya),Oe(Do,i,e)});function wd(e,t){return Gs(e,S(t,3),rt)}function yd(e,t){return Gs(e,S(t,3),li)}function Pd(e,t){return e==null?e:fi(e,S(t,3),be)}function Cd(e,t){return e==null?e:pa(e,S(t,3),be)}function Ad(e,t){return e&&rt(e,S(t,3))}function Id(e,t){return e&&li(e,S(t,3))}function bd(e){return e==null?[]:ir(e,he(e))}function Ed(e){return e==null?[]:ir(e,be(e))}function zi(e,t,n){var s=e==null?i:Ht(e,t);return s===i?n:s}function xd(e,t){return e!=null&&Qa(e,t,Xh)}function Ki(e,t){return e!=null&&Qa(e,t,Qh)}var Od=Wa(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Kn.call(t)),e[t]=n},Yi(Ee)),Sd=Wa(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Kn.call(t)),Y.call(e,t)?e[t].push(n):e[t]=[n]},S),Rd=q(Pn);function he(e){return Ie(e)?aa(e):vi(e)}function be(e){return Ie(e)?aa(e,!0):of(e)}function Td(e,t){var n={};return t=S(t,3),rt(e,function(s,a,u){ht(n,t(s,a,u),s)}),n}function Dd(e,t){var n={};return t=S(t,3),rt(e,function(s,a,u){ht(n,a,t(s,a,u))}),n}var Ld=jt(function(e,t,n){sr(e,t,n)}),Do=jt(function(e,t,n,s){sr(e,t,n,s)}),$d=lt(function(e,t){var n={};if(e==null)return n;var s=!1;t=V(t,function(u){return u=bt(u,e),s||(s=u.length>1),u}),it(e,Ri(e),n),s&&(n=Fe(n,de|se|ce,Of));for(var a=t.length;a--;)Ci(n,t[a]);return n});function Hd(e,t){return Lo(e,yr(S(t)))}var Nd=lt(function(e,t){return e==null?{}:cf(e,t)});function Lo(e,t){if(e==null)return{};var n=V(Ri(e),function(s){return[s]});return t=S(t),Aa(e,n,function(s,a){return t(s,a[0])})}function Md(e,t,n){t=bt(t,e);var s=-1,a=t.length;for(a||(a=1,e=i);++s<a;){var u=e==null?i:e[st(t[s])];u===i&&(s=a,u=n),e=dt(u)?u.call(e):u}return e}function Ud(e,t,n){return e==null?e:An(e,t,n)}function qd(e,t,n,s){return s=typeof s=="function"?s:i,e==null?e:An(e,t,n,s)}var $o=Ka(he),Ho=Ka(be);function Bd(e,t,n){var s=H(e),a=s||xt(e)||en(e);if(t=S(t,4),n==null){var u=e&&e.constructor;a?n=s?new u:[]:ee(e)?n=dt(u)?Qt(Zn(e)):{}:n={}}return(a?Ue:rt)(e,function(h,f,p){return t(n,h,f,p)}),n}function Fd(e,t){return e==null?!0:Ci(e,t)}function Wd(e,t,n){return e==null?e:Oa(e,t,bi(n))}function Gd(e,t,n,s){return s=typeof s=="function"?s:i,e==null?e:Oa(e,t,bi(n),s)}function tn(e){return e==null?[]:ri(e,he(e))}function zd(e){return e==null?[]:ri(e,be(e))}function Kd(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=ze(n),n=n===n?n:0),t!==i&&(t=ze(t),t=t===t?t:0),$t(ze(e),t,n)}function Jd(e,t,n){return t=gt(t),n===i?(n=t,t=0):n=gt(n),e=ze(e),jh(e,t,n)}function Yd(e,t,n){if(n&&typeof n!="boolean"&&ye(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gt(e),t===i?(t=e,e=0):t=gt(t)),e>t){var s=e;e=t,t=s}if(n||e%1||t%1){var a=ia();return ge(e+a*(t-e+Ic("1e-"+((a+"").length-1))),t)}return wi(e,t)}var Zd=kt(function(e,t,n){return t=t.toLowerCase(),e+(n?No(t):t)});function No(e){return Ji(J(e).toLowerCase())}function Mo(e){return e=J(e),e&&e.replace(Xu,Mc).replace(dc,"")}function Xd(e,t,n){e=J(e),t=Re(t);var s=e.length;n=n===i?s:$t(N(n),0,s);var a=n;return n-=t.length,n>=0&&e.slice(n,a)==t}function Qd(e){return e=J(e),e&&Su.test(e)?e.replace(ps,Uc):e}function jd(e){return e=J(e),e&&Hu.test(e)?e.replace(Fr,"\\$&"):e}var kd=kt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Vd=kt(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),eg=qa("toLowerCase");function tg(e,t,n){e=J(e),t=N(t);var s=t?Kt(e):0;if(!t||s>=t)return e;var a=(t-s)/2;return fr(kn(a),n)+e+fr(jn(a),n)}function ng(e,t,n){e=J(e),t=N(t);var s=t?Kt(e):0;return t&&s<t?e+fr(t-s,n):e}function rg(e,t,n){e=J(e),t=N(t);var s=t?Kt(e):0;return t&&s<t?fr(t-s,n)+e:e}function ig(e,t,n){return n||t==null?t=0:t&&(t=+t),hh(J(e).replace(Wr,""),t||0)}function sg(e,t,n){return(n?ye(e,t,n):t===i)?t=1:t=N(t),yi(J(e),t)}function ag(){var e=arguments,t=J(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var og=kt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function ug(e,t,n){return n&&typeof n!="number"&&ye(e,t,n)&&(t=n=i),n=n===i?me:n>>>0,n?(e=J(e),e&&(typeof t=="string"||t!=null&&!Gi(t))&&(t=Re(t),!t&&zt(e))?Et(Qe(e),0,n):e.split(t,n)):[]}var cg=kt(function(e,t,n){return e+(n?" ":"")+Ji(t)});function hg(e,t,n){return e=J(e),n=n==null?0:$t(N(n),0,e.length),t=Re(t),e.slice(n,n+t.length)==t}function fg(e,t,n){var s=o.templateSettings;n&&ye(e,t,n)&&(t=i),e=J(e),t=Ar({},t,s,Ja);var a=Ar({},t.imports,s.imports,Ja),u=he(a),h=ri(a,u),f,p,m=0,w=t.interpolate||Nn,P="__p += '",b=si((t.escape||Nn).source+"|"+w.source+"|"+(w===ds?Gu:Nn).source+"|"+(t.evaluate||Nn).source+"|$","g"),x="//# sourceURL="+(Y.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wc+"]")+`
`;e.replace(b,function(T,B,W,De,Pe,Le){return W||(W=De),P+=e.slice(m,Le).replace(Qu,qc),B&&(f=!0,P+=`' +
__e(`+B+`) +
'`),Pe&&(p=!0,P+=`';
`+Pe+`;
__p += '`),W&&(P+=`' +
((__t = (`+W+`)) == null ? '' : __t) +
'`),m=Le+T.length,T}),P+=`';
`;var R=Y.call(t,"variable")&&t.variable;if(!R)P=`with (obj) {
`+P+`
}
`;else if(Fu.test(R))throw new D(O);P=(p?P.replace(bu,""):P).replace(Eu,"$1").replace(xu,"$1;"),P="function("+(R||"obj")+`) {
`+(R?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+P+`return __p
}`;var M=qo(function(){return K(u,x+"return "+P).apply(i,h)});if(M.source=P,Wi(M))throw M;return M}function lg(e){return J(e).toLowerCase()}function pg(e){return J(e).toUpperCase()}function dg(e,t,n){if(e=J(e),e&&(n||t===i))return Ys(e);if(!e||!(t=Re(t)))return e;var s=Qe(e),a=Qe(t),u=Zs(s,a),h=Xs(s,a)+1;return Et(s,u,h).join("")}function gg(e,t,n){if(e=J(e),e&&(n||t===i))return e.slice(0,js(e)+1);if(!e||!(t=Re(t)))return e;var s=Qe(e),a=Xs(s,Qe(t))+1;return Et(s,0,a).join("")}function vg(e,t,n){if(e=J(e),e&&(n||t===i))return e.replace(Wr,"");if(!e||!(t=Re(t)))return e;var s=Qe(e),a=Zs(s,Qe(t));return Et(s,a).join("")}function _g(e,t){var n=Sr,s=Rr;if(ee(t)){var a="separator"in t?t.separator:a;n="length"in t?N(t.length):n,s="omission"in t?Re(t.omission):s}e=J(e);var u=e.length;if(zt(e)){var h=Qe(e);u=h.length}if(n>=u)return e;var f=n-Kt(s);if(f<1)return s;var p=h?Et(h,0,f).join(""):e.slice(0,f);if(a===i)return p+s;if(h&&(f+=p.length-f),Gi(a)){if(e.slice(f).search(a)){var m,w=p;for(a.global||(a=si(a.source,J(gs.exec(a))+"g")),a.lastIndex=0;m=a.exec(w);)var P=m.index;p=p.slice(0,P===i?f:P)}}else if(e.indexOf(Re(a),f)!=f){var b=p.lastIndexOf(a);b>-1&&(p=p.slice(0,b))}return p+s}function mg(e){return e=J(e),e&&Ou.test(e)?e.replace(ls,Jc):e}var wg=kt(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Ji=qa("toUpperCase");function Uo(e,t,n){return e=J(e),t=n?i:t,t===i?Fc(e)?Xc(e):Dc(e):e.match(t)||[]}var qo=q(function(e,t){try{return Oe(e,i,t)}catch(n){return Wi(n)?n:new D(n)}}),yg=lt(function(e,t){return Ue(t,function(n){n=st(n),ht(e,n,Bi(e[n],e))}),e});function Pg(e){var t=e==null?0:e.length,n=S();return e=t?V(e,function(s){if(typeof s[1]!="function")throw new qe(I);return[n(s[0]),s[1]]}):[],q(function(s){for(var a=-1;++a<t;){var u=e[a];if(Oe(u[0],this,s))return Oe(u[1],this,s)}})}function Cg(e){return Jh(Fe(e,de))}function Yi(e){return function(){return e}}function Ag(e,t){return e==null||e!==e?t:e}var Ig=Fa(),bg=Fa(!0);function Ee(e){return e}function Zi(e){return _a(typeof e=="function"?e:Fe(e,de))}function Eg(e){return wa(Fe(e,de))}function xg(e,t){return ya(e,Fe(t,de))}var Og=q(function(e,t){return function(n){return Pn(n,e,t)}}),Sg=q(function(e,t){return function(n){return Pn(e,n,t)}});function Xi(e,t,n){var s=he(t),a=ir(t,s);n==null&&!(ee(t)&&(a.length||!s.length))&&(n=t,t=e,e=this,a=ir(t,he(t)));var u=!(ee(n)&&"chain"in n)||!!n.chain,h=dt(e);return Ue(a,function(f){var p=t[f];e[f]=p,h&&(e.prototype[f]=function(){var m=this.__chain__;if(u||m){var w=e(this.__wrapped__),P=w.__actions__=Ae(this.__actions__);return P.push({func:p,args:arguments,thisArg:e}),w.__chain__=m,w}return p.apply(e,yt([this.value()],arguments))})}),e}function Rg(){return fe._===this&&(fe._=th),this}function Qi(){}function Tg(e){return e=N(e),q(function(t){return Pa(t,e)})}var Dg=xi(V),Lg=xi(Ws),$g=xi(kr);function Bo(e){return $i(e)?Vr(st(e)):hf(e)}function Hg(e){return function(t){return e==null?i:Ht(e,t)}}var Ng=Ga(),Mg=Ga(!0);function ji(){return[]}function ki(){return!1}function Ug(){return{}}function qg(){return""}function Bg(){return!0}function Fg(e,t){if(e=N(e),e<1||e>G)return[];var n=me,s=ge(e,me);t=S(t),e-=me;for(var a=ni(s,t);++n<e;)t(n);return a}function Wg(e){return H(e)?V(e,st):Te(e)?[e]:Ae(so(J(e)))}function Gg(e){var t=++Vc;return J(e)+t}var zg=hr(function(e,t){return e+t},0),Kg=Oi("ceil"),Jg=hr(function(e,t){return e/t},1),Yg=Oi("floor");function Zg(e){return e&&e.length?rr(e,Ee,pi):i}function Xg(e,t){return e&&e.length?rr(e,S(t,2),pi):i}function Qg(e){return Ks(e,Ee)}function jg(e,t){return Ks(e,S(t,2))}function kg(e){return e&&e.length?rr(e,Ee,_i):i}function Vg(e,t){return e&&e.length?rr(e,S(t,2),_i):i}var ev=hr(function(e,t){return e*t},1),tv=Oi("round"),nv=hr(function(e,t){return e-t},0);function rv(e){return e&&e.length?ti(e,Ee):0}function iv(e,t){return e&&e.length?ti(e,S(t,2)):0}return o.after=Ep,o.ary=_o,o.assign=pd,o.assignIn=To,o.assignInWith=Ar,o.assignWith=dd,o.at=gd,o.before=mo,o.bind=Bi,o.bindAll=yg,o.bindKey=wo,o.castArray=Up,o.chain=po,o.chunk=Yf,o.compact=Zf,o.concat=Xf,o.cond=Pg,o.conforms=Cg,o.constant=Yi,o.countBy=rp,o.create=vd,o.curry=yo,o.curryRight=Po,o.debounce=Co,o.defaults=_d,o.defaultsDeep=md,o.defer=xp,o.delay=Op,o.difference=Qf,o.differenceBy=jf,o.differenceWith=kf,o.drop=Vf,o.dropRight=el,o.dropRightWhile=tl,o.dropWhile=nl,o.fill=rl,o.filter=sp,o.flatMap=up,o.flatMapDeep=cp,o.flatMapDepth=hp,o.flatten=co,o.flattenDeep=il,o.flattenDepth=sl,o.flip=Sp,o.flow=Ig,o.flowRight=bg,o.fromPairs=al,o.functions=bd,o.functionsIn=Ed,o.groupBy=fp,o.initial=ul,o.intersection=cl,o.intersectionBy=hl,o.intersectionWith=fl,o.invert=Od,o.invertBy=Sd,o.invokeMap=pp,o.iteratee=Zi,o.keyBy=dp,o.keys=he,o.keysIn=be,o.map=_r,o.mapKeys=Td,o.mapValues=Dd,o.matches=Eg,o.matchesProperty=xg,o.memoize=wr,o.merge=Ld,o.mergeWith=Do,o.method=Og,o.methodOf=Sg,o.mixin=Xi,o.negate=yr,o.nthArg=Tg,o.omit=$d,o.omitBy=Hd,o.once=Rp,o.orderBy=gp,o.over=Dg,o.overArgs=Tp,o.overEvery=Lg,o.overSome=$g,o.partial=Fi,o.partialRight=Ao,o.partition=vp,o.pick=Nd,o.pickBy=Lo,o.property=Bo,o.propertyOf=Hg,o.pull=gl,o.pullAll=fo,o.pullAllBy=vl,o.pullAllWith=_l,o.pullAt=ml,o.range=Ng,o.rangeRight=Mg,o.rearg=Dp,o.reject=wp,o.remove=wl,o.rest=Lp,o.reverse=Ui,o.sampleSize=Pp,o.set=Ud,o.setWith=qd,o.shuffle=Cp,o.slice=yl,o.sortBy=bp,o.sortedUniq=xl,o.sortedUniqBy=Ol,o.split=ug,o.spread=$p,o.tail=Sl,o.take=Rl,o.takeRight=Tl,o.takeRightWhile=Dl,o.takeWhile=Ll,o.tap=Zl,o.throttle=Hp,o.thru=vr,o.toArray=Oo,o.toPairs=$o,o.toPairsIn=Ho,o.toPath=Wg,o.toPlainObject=Ro,o.transform=Bd,o.unary=Np,o.union=$l,o.unionBy=Hl,o.unionWith=Nl,o.uniq=Ml,o.uniqBy=Ul,o.uniqWith=ql,o.unset=Fd,o.unzip=qi,o.unzipWith=lo,o.update=Wd,o.updateWith=Gd,o.values=tn,o.valuesIn=zd,o.without=Bl,o.words=Uo,o.wrap=Mp,o.xor=Fl,o.xorBy=Wl,o.xorWith=Gl,o.zip=zl,o.zipObject=Kl,o.zipObjectDeep=Jl,o.zipWith=Yl,o.entries=$o,o.entriesIn=Ho,o.extend=To,o.extendWith=Ar,Xi(o,o),o.add=zg,o.attempt=qo,o.camelCase=Zd,o.capitalize=No,o.ceil=Kg,o.clamp=Kd,o.clone=qp,o.cloneDeep=Fp,o.cloneDeepWith=Wp,o.cloneWith=Bp,o.conformsTo=Gp,o.deburr=Mo,o.defaultTo=Ag,o.divide=Jg,o.endsWith=Xd,o.eq=ke,o.escape=Qd,o.escapeRegExp=jd,o.every=ip,o.find=ap,o.findIndex=oo,o.findKey=wd,o.findLast=op,o.findLastIndex=uo,o.findLastKey=yd,o.floor=Yg,o.forEach=go,o.forEachRight=vo,o.forIn=Pd,o.forInRight=Cd,o.forOwn=Ad,o.forOwnRight=Id,o.get=zi,o.gt=zp,o.gte=Kp,o.has=xd,o.hasIn=Ki,o.head=ho,o.identity=Ee,o.includes=lp,o.indexOf=ol,o.inRange=Jd,o.invoke=Rd,o.isArguments=Ut,o.isArray=H,o.isArrayBuffer=Jp,o.isArrayLike=Ie,o.isArrayLikeObject=re,o.isBoolean=Yp,o.isBuffer=xt,o.isDate=Zp,o.isElement=Xp,o.isEmpty=Qp,o.isEqual=jp,o.isEqualWith=kp,o.isError=Wi,o.isFinite=Vp,o.isFunction=dt,o.isInteger=Io,o.isLength=Pr,o.isMap=bo,o.isMatch=ed,o.isMatchWith=td,o.isNaN=nd,o.isNative=rd,o.isNil=sd,o.isNull=id,o.isNumber=Eo,o.isObject=ee,o.isObjectLike=te,o.isPlainObject=xn,o.isRegExp=Gi,o.isSafeInteger=ad,o.isSet=xo,o.isString=Cr,o.isSymbol=Te,o.isTypedArray=en,o.isUndefined=od,o.isWeakMap=ud,o.isWeakSet=cd,o.join=ll,o.kebabCase=kd,o.last=Ge,o.lastIndexOf=pl,o.lowerCase=Vd,o.lowerFirst=eg,o.lt=hd,o.lte=fd,o.max=Zg,o.maxBy=Xg,o.mean=Qg,o.meanBy=jg,o.min=kg,o.minBy=Vg,o.stubArray=ji,o.stubFalse=ki,o.stubObject=Ug,o.stubString=qg,o.stubTrue=Bg,o.multiply=ev,o.nth=dl,o.noConflict=Rg,o.noop=Qi,o.now=mr,o.pad=tg,o.padEnd=ng,o.padStart=rg,o.parseInt=ig,o.random=Yd,o.reduce=_p,o.reduceRight=mp,o.repeat=sg,o.replace=ag,o.result=Md,o.round=tv,o.runInContext=l,o.sample=yp,o.size=Ap,o.snakeCase=og,o.some=Ip,o.sortedIndex=Pl,o.sortedIndexBy=Cl,o.sortedIndexOf=Al,o.sortedLastIndex=Il,o.sortedLastIndexBy=bl,o.sortedLastIndexOf=El,o.startCase=cg,o.startsWith=hg,o.subtract=nv,o.sum=rv,o.sumBy=iv,o.template=fg,o.times=Fg,o.toFinite=gt,o.toInteger=N,o.toLength=So,o.toLower=lg,o.toNumber=ze,o.toSafeInteger=ld,o.toString=J,o.toUpper=pg,o.trim=dg,o.trimEnd=gg,o.trimStart=vg,o.truncate=_g,o.unescape=mg,o.uniqueId=Gg,o.upperCase=wg,o.upperFirst=Ji,o.each=go,o.eachRight=vo,o.first=ho,Xi(o,function(){var e={};return rt(o,function(t,n){Y.call(o.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),o.VERSION=c,Ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){o[e].placeholder=o}),Ue(["drop","take"],function(e,t){F.prototype[e]=function(n){n=n===i?1:ue(N(n),0);var s=this.__filtered__&&!t?new F(this):this.clone();return s.__filtered__?s.__takeCount__=ge(n,s.__takeCount__):s.__views__.push({size:ge(n,me),type:e+(s.__dir__<0?"Right":"")}),s},F.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ue(["filter","map","takeWhile"],function(e,t){var n=t+1,s=n==Bt||n==A;F.prototype[e]=function(a){var u=this.clone();return u.__iteratees__.push({iteratee:S(a,3),type:n}),u.__filtered__=u.__filtered__||s,u}}),Ue(["head","last"],function(e,t){var n="take"+(t?"Right":"");F.prototype[e]=function(){return this[n](1).value()[0]}}),Ue(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");F.prototype[e]=function(){return this.__filtered__?new F(this):this[n](1)}}),F.prototype.compact=function(){return this.filter(Ee)},F.prototype.find=function(e){return this.filter(e).head()},F.prototype.findLast=function(e){return this.reverse().find(e)},F.prototype.invokeMap=q(function(e,t){return typeof e=="function"?new F(this):this.map(function(n){return Pn(n,e,t)})}),F.prototype.reject=function(e){return this.filter(yr(S(e)))},F.prototype.slice=function(e,t){e=N(e);var n=this;return n.__filtered__&&(e>0||t<0)?new F(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=N(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},F.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},F.prototype.toArray=function(){return this.take(me)},rt(F.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),a=o[s?"take"+(t=="last"?"Right":""):t],u=s||/^find/.test(t);a&&(o.prototype[t]=function(){var h=this.__wrapped__,f=s?[1]:arguments,p=h instanceof F,m=f[0],w=p||H(h),P=function(B){var W=a.apply(o,yt([B],f));return s&&b?W[0]:W};w&&n&&typeof m=="function"&&m.length!=1&&(p=w=!1);var b=this.__chain__,x=!!this.__actions__.length,R=u&&!b,M=p&&!x;if(!u&&w){h=M?h:new F(this);var T=e.apply(h,f);return T.__actions__.push({func:vr,args:[P],thisArg:i}),new Be(T,b)}return R&&M?e.apply(this,f):(T=this.thru(P),R?s?T.value()[0]:T.value():T)})}),Ue(["pop","push","shift","sort","splice","unshift"],function(e){var t=Wn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);o.prototype[e]=function(){var a=arguments;if(s&&!this.__chain__){var u=this.value();return t.apply(H(u)?u:[],a)}return this[n](function(h){return t.apply(H(h)?h:[],a)})}}),rt(F.prototype,function(e,t){var n=o[t];if(n){var s=n.name+"";Y.call(Xt,s)||(Xt[s]=[]),Xt[s].push({name:t,func:n})}}),Xt[cr(i,at).name]=[{name:"wrapper",func:i}],F.prototype.clone=_h,F.prototype.reverse=mh,F.prototype.value=wh,o.prototype.at=Xl,o.prototype.chain=Ql,o.prototype.commit=jl,o.prototype.next=kl,o.prototype.plant=ep,o.prototype.reverse=tp,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=np,o.prototype.first=o.prototype.head,dn&&(o.prototype[dn]=Vl),o},Jt=Qc();Rt?((Rt.exports=Jt)._=Jt,Zr._=Jt):fe._=Jt}).call(_t)})(xr,xr.exports);var mv=xr.exports,as={exports:{}};(function(y,r){var i=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof _t<"u"&&_t,c=function(){function C(){this.fetch=!1,this.DOMException=i.DOMException}return C.prototype=i,new C}();(function(C){(function(I){var O=typeof C<"u"&&C||typeof self<"u"&&self||typeof _t<"u"&&_t||{},L={searchParams:"URLSearchParams"in O,iterable:"Symbol"in O&&"iterator"in Symbol,blob:"FileReader"in O&&"Blob"in O&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in O,arrayBuffer:"ArrayBuffer"in O};function ne(v){return v&&DataView.prototype.isPrototypeOf(v)}if(L.arrayBuffer)var pe=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],de=ArrayBuffer.isView||function(v){return v&&pe.indexOf(Object.prototype.toString.call(v))>-1};function se(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function ce(v){return typeof v!="string"&&(v=String(v)),v}function nt(v){var A={next:function(){var $=v.shift();return{done:$===void 0,value:$}}};return L.iterable&&(A[Symbol.iterator]=function(){return A}),A}function Q(v){this.map={},v instanceof Q?v.forEach(function(A,$){this.append($,A)},this):Array.isArray(v)?v.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(A){this.append(A,v[A])},this)}Q.prototype.append=function(v,A){v=se(v),A=ce(A);var $=this.map[v];this.map[v]=$?$+", "+A:A},Q.prototype.delete=function(v){delete this.map[se(v)]},Q.prototype.get=function(v){return v=se(v),this.has(v)?this.map[v]:null},Q.prototype.has=function(v){return this.map.hasOwnProperty(se(v))},Q.prototype.set=function(v,A){this.map[se(v)]=ce(A)},Q.prototype.forEach=function(v,A){for(var $ in this.map)this.map.hasOwnProperty($)&&v.call(A,this.map[$],$,this)},Q.prototype.keys=function(){var v=[];return this.forEach(function(A,$){v.push($)}),nt(v)},Q.prototype.values=function(){var v=[];return this.forEach(function(A){v.push(A)}),nt(v)},Q.prototype.entries=function(){var v=[];return this.forEach(function(A,$){v.push([$,A])}),nt(v)},L.iterable&&(Q.prototype[Symbol.iterator]=Q.prototype.entries);function _e(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function at(v){return new Promise(function(A,$){v.onload=function(){A(v.result)},v.onerror=function(){$(v.error)}})}function Rn(v){var A=new FileReader,$=at(A);return A.readAsArrayBuffer(v),$}function Je(v){var A=new FileReader,$=at(A),G=/charset=([A-Za-z0-9_-]+)/.exec(v.type),j=G?G[1]:"utf-8";return A.readAsText(v,j),$}function Ot(v){for(var A=new Uint8Array(v),$=new Array(A.length),G=0;G<A.length;G++)$[G]=String.fromCharCode(A[G]);return $.join("")}function He(v){if(v.slice)return v.slice(0);var A=new Uint8Array(v.byteLength);return A.set(new Uint8Array(v)),A.buffer}function mt(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:L.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:L.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:L.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():L.arrayBuffer&&L.blob&&ne(v)?(this._bodyArrayBuffer=He(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):L.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||de(v))?this._bodyArrayBuffer=He(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):L.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},L.blob&&(this.blob=function(){var v=_e(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=_e(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(L.blob)return this.blob().then(Rn);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=_e(this);if(v)return v;if(this._bodyBlob)return Je(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ot(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},L.formData&&(this.formData=function(){return this.text().then(Sr)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ye=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function St(v){var A=v.toUpperCase();return Ye.indexOf(A)>-1?A:v}function Ne(v,A){if(!(this instanceof Ne))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var $=A.body;if(v instanceof Ne){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,A.headers||(this.headers=new Q(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!$&&v._bodyInit!=null&&($=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new Q(A.headers)),this.method=St(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in O){var U=new AbortController;return U.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var G=/([?&])_=[^&]*/;if(G.test(this.url))this.url=this.url.replace(G,"$1_="+new Date().getTime());else{var j=/\?/;this.url+=(j.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ne.prototype.clone=function(){return new Ne(this,{body:this._bodyInit})};function Sr(v){var A=new FormData;return v.trim().split("&").forEach(function($){if($){var G=$.split("="),j=G.shift().replace(/\+/g," "),U=G.join("=").replace(/\+/g," ");A.append(decodeURIComponent(j),decodeURIComponent(U))}}),A}function Rr(v){var A=new Q,$=v.replace(/\r?\n[\t ]+/g," ");return $.split("\r").map(function(G){return G.indexOf(`
`)===0?G.substr(1,G.length):G}).forEach(function(G){var j=G.split(":"),U=j.shift().trim();if(U){var me=j.join(":").trim();try{A.append(U,me)}catch(sn){console.warn("Response "+sn.message)}}}),A}mt.call(Ne.prototype);function xe(v,A){if(!(this instanceof xe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new Q(A.headers),this.url=A.url||"",this._initBody(v)}mt.call(xe.prototype),xe.prototype.clone=function(){return new xe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Q(this.headers),url:this.url})},xe.error=function(){var v=new xe(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var Tr=[301,302,303,307,308];xe.redirect=function(v,A){if(Tr.indexOf(A)===-1)throw new RangeError("Invalid status code");return new xe(null,{status:A,headers:{location:v}})},I.DOMException=O.DOMException;try{new I.DOMException}catch{I.DOMException=function(A,$){this.message=A,this.name=$;var G=Error(A);this.stack=G.stack},I.DOMException.prototype=Object.create(Error.prototype),I.DOMException.prototype.constructor=I.DOMException}function Bt(v,A){return new Promise(function($,G){var j=new Ne(v,A);if(j.signal&&j.signal.aborted)return G(new I.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function me(){U.abort()}U.onload=function(){var ae={statusText:U.statusText,headers:Rr(U.getAllResponseHeaders()||"")};j.url.indexOf("file://")===0&&(U.status<200||U.status>599)?ae.status=200:ae.status=U.status,ae.url="responseURL"in U?U.responseURL:ae.headers.get("X-Request-URL");var Ce="response"in U?U.response:U.responseText;setTimeout(function(){$(new xe(Ce,ae))},0)},U.onerror=function(){setTimeout(function(){G(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){G(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){G(new I.DOMException("Aborted","AbortError"))},0)};function sn(ae){try{return ae===""&&O.location.href?O.location.href:ae}catch{return ae}}if(U.open(j.method,sn(j.url),!0),j.credentials==="include"?U.withCredentials=!0:j.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(L.blob?U.responseType="blob":L.arrayBuffer&&(U.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof Q||O.Headers&&A.headers instanceof O.Headers)){var Tn=[];Object.getOwnPropertyNames(A.headers).forEach(function(ae){Tn.push(se(ae)),U.setRequestHeader(ae,ce(A.headers[ae]))}),j.headers.forEach(function(ae,Ce){Tn.indexOf(Ce)===-1&&U.setRequestHeader(Ce,ae)})}else j.headers.forEach(function(ae,Ce){U.setRequestHeader(Ce,ae)});j.signal&&(j.signal.addEventListener("abort",me),U.onreadystatechange=function(){U.readyState===4&&j.signal.removeEventListener("abort",me)}),U.send(typeof j._bodyInit>"u"?null:j._bodyInit)})}return Bt.polyfill=!0,O.fetch||(O.fetch=Bt,O.Headers=Q,O.Request=Ne,O.Response=xe),I.Headers=Q,I.Request=Ne,I.Response=xe,I.fetch=Bt,Object.defineProperty(I,"__esModule",{value:!0}),I})({})})(c),c.fetch.ponyfill=!0,delete c.fetch.polyfill;var d=i.fetch?i:c;r=d.fetch,r.default=d.fetch,r.fetch=d.fetch,r.Headers=d.Headers,r.Request=d.Request,r.Response=d.Response,y.exports=r})(as,as.exports);var wv=as.exports;const Ko=sv(wv);var yv=Object.defineProperty,Pv=Object.defineProperties,Cv=Object.getOwnPropertyDescriptors,Jo=Object.getOwnPropertySymbols,Av=Object.prototype.hasOwnProperty,Iv=Object.prototype.propertyIsEnumerable,Yo=(y,r,i)=>r in y?yv(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,Zo=(y,r)=>{for(var i in r)Av.call(r,i)&&Yo(y,i,r[i]);if(Jo)for(var i of Jo(r))Iv.call(r,i)&&Yo(y,i,r[i]);return y},Xo=(y,r)=>Pv(y,Cv(r));const bv={Accept:"application/json","Content-Type":"application/json"},Ev="POST",Qo={headers:bv,method:Ev},jo=10;let tt=class{constructor(r,i=!1){if(this.url=r,this.disableProviderPing=i,this.events=new lu.EventEmitter,this.isAvailable=!1,this.registering=!1,!Wo(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);this.url=r,this.disableProviderPing=i}get connected(){return this.isAvailable}get connecting(){return this.registering}on(r,i){this.events.on(r,i)}once(r,i){this.events.once(r,i)}off(r,i){this.events.off(r,i)}removeListener(r,i){this.events.removeListener(r,i)}async open(r=this.url){await this.register(r)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(r){this.isAvailable||await this.register();try{const i=Go(r),c=await(await Ko(this.url,Xo(Zo({},Qo),{body:i}))).json();this.onPayload({data:c})}catch(i){this.onError(r.id,i)}}async register(r=this.url){if(!Wo(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);if(this.registering){const i=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=i||this.events.listenerCount("open")>=i)&&this.events.setMaxListeners(i+1),new Promise((c,d)=>{this.events.once("register_error",C=>{this.resetMaxListeners(),d(C)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return d(new Error("HTTP connection is missing or invalid"));c()})})}this.url=r,this.registering=!0;try{if(!this.disableProviderPing){const i=Go({id:1,jsonrpc:"2.0",method:"test",params:[]});await Ko(r,Xo(Zo({},Qo),{body:i}))}this.onOpen()}catch(i){const c=this.parseError(i);throw this.events.emit("register_error",c),this.onClose(),c}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(r){if(typeof r.data>"u")return;const i=typeof r.data=="string"?ov(r.data):r.data;this.events.emit("payload",i)}onError(r,i){const c=this.parseError(i),d=c.message||c.toString(),C=uv(r,d);this.events.emit("payload",C)}parseError(r,i=this.url){return cv(r,i,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>jo&&this.events.setMaxListeners(jo)}};const ko="error",xv="wss://relay.walletconnect.org",Ov="wc",Sv="universal_provider",Vo=`${Ov}@2:${Sv}:`,gu="https://rpc.walletconnect.org/v1/",nn="generic",Rv=`${gu}bundler`,Ke={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Tv=Object.defineProperty,Dv=Object.defineProperties,Lv=Object.getOwnPropertyDescriptors,eu=Object.getOwnPropertySymbols,$v=Object.prototype.hasOwnProperty,Hv=Object.prototype.propertyIsEnumerable,tu=(y,r,i)=>r in y?Tv(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,Ir=(y,r)=>{for(var i in r||(r={}))$v.call(r,i)&&tu(y,i,r[i]);if(eu)for(var i of eu(r))Hv.call(r,i)&&tu(y,i,r[i]);return y},Nv=(y,r)=>Dv(y,Lv(r));function $e(y,r,i){var c;const d=du(y);return((c=r.rpcMap)==null?void 0:c[d.reference])||`${gu}?chainId=${d.namespace}:${d.reference}&projectId=${i}`}function qt(y){return y.includes(":")?y.split(":")[1]:y}function vu(y){return y.map(r=>`${r.split(":")[0]}:${r.split(":")[1]}`)}function Mv(y,r){const i=Object.keys(r.namespaces).filter(d=>d.includes(y));if(!i.length)return[];const c=[];return i.forEach(d=>{const C=r.namespaces[d].accounts;c.push(...C)}),c}function es(y={},r={}){const i=nu(y),c=nu(r);return mv.merge(i,c)}function nu(y){var r,i,c,d;const C={};if(!vv(y))return C;for(const[I,O]of Object.entries(y)){const L=pu(I)?[I]:O.chains,ne=O.methods||[],pe=O.events||[],de=O.rpcMap||{},se=On(I);C[se]=Nv(Ir(Ir({},C[se]),O),{chains:Vi(L,(r=C[se])==null?void 0:r.chains),methods:Vi(ne,(i=C[se])==null?void 0:i.methods),events:Vi(pe,(c=C[se])==null?void 0:c.events),rpcMap:Ir(Ir({},de),(d=C[se])==null?void 0:d.rpcMap)})}return C}function Uv(y){return y.includes(":")?y.split(":")[2]:y}function ru(y){const r={};for(const[i,c]of Object.entries(y)){const d=c.methods||[],C=c.events||[],I=c.accounts||[],O=pu(i)?[i]:c.chains?c.chains:vu(c.accounts);r[i]={chains:O,methods:d,events:C,accounts:I}}return r}function ts(y){return typeof y=="number"?y:y.includes("0x")?parseInt(y,16):(y=y.includes(":")?y.split(":")[1]:y,isNaN(Number(y))?y:Number(y))}const _u={},z=y=>_u[y],ns=(y,r)=>{_u[y]=r};class qv{constructor(r){this.name="polkadot",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getAccounts(){const r=this.namespace.accounts;return r?r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=qt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}var Bv=Object.defineProperty,Fv=Object.defineProperties,Wv=Object.getOwnPropertyDescriptors,iu=Object.getOwnPropertySymbols,Gv=Object.prototype.hasOwnProperty,zv=Object.prototype.propertyIsEnumerable,su=(y,r,i)=>r in y?Bv(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,au=(y,r)=>{for(var i in r||(r={}))Gv.call(r,i)&&su(y,i,r[i]);if(iu)for(var i of iu(r))zv.call(r,i)&&su(y,i,r[i]);return y},ou=(y,r)=>Fv(y,Wv(r));class Kv{constructor(r){this.name="eip155",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(r){switch(r.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(r);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(r);case"wallet_getCallsStatus":return await this.getCallStatus(r)}return this.namespace.methods.includes(r.request.method)?await this.client.request(r):this.getHttpProvider().request(r.request)}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(parseInt(r),i),this.chainId=parseInt(r),this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}createHttpProvider(r,i){const c=i||$e(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=parseInt(qt(i));r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}getHttpProvider(){const r=this.chainId,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}async handleSwitchChain(r){var i,c;let d=r.request.params?(i=r.request.params[0])==null?void 0:i.chainId:"0x0";d=d.startsWith("0x")?d:`0x${d}`;const C=parseInt(d,16);if(this.isChainApproved(C))this.setDefaultChain(`${C}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:r.topic,request:{method:r.request.method,params:[{chainId:d}]},chainId:(c=this.namespace.chains)==null?void 0:c[0]}),this.setDefaultChain(`${C}`);else throw new Error(`Failed to switch to chain 'eip155:${C}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(r){return this.namespace.chains.includes(`${this.name}:${r}`)}async getCapabilities(r){var i,c,d;const C=(c=(i=r.request)==null?void 0:i.params)==null?void 0:c[0];if(!C)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const I=this.client.session.get(r.topic),O=((d=I==null?void 0:I.sessionProperties)==null?void 0:d.capabilities)||{};if(O!=null&&O[C])return O==null?void 0:O[C];const L=await this.client.request(r);try{await this.client.session.update(r.topic,{sessionProperties:ou(au({},I.sessionProperties||{}),{capabilities:ou(au({},O||{}),{[C]:L})})})}catch(ne){console.warn("Failed to update session with capabilities",ne)}return L}async getCallStatus(r){var i,c;const d=this.client.session.get(r.topic),C=(i=d.sessionProperties)==null?void 0:i.bundler_name;if(C){const O=this.getBundlerUrl(r.chainId,C);try{return await this.getUserOperationReceipt(O,r)}catch(L){console.warn("Failed to fetch call status from bundler",L,O)}}const I=(c=d.sessionProperties)==null?void 0:c.bundler_url;if(I)try{return await this.getUserOperationReceipt(I,r)}catch(O){console.warn("Failed to fetch call status from custom bundler",O,I)}if(this.namespace.methods.includes(r.request.method))return await this.client.request(r);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(r,i){var c;const d=new URL(r),C=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_v("eth_getUserOperationReceipt",[(c=i.request.params)==null?void 0:c[0]]))});if(!C.ok)throw new Error(`Failed to fetch user operation receipt - ${C.status}`);return await C.json()}getBundlerUrl(r,i){return`${Rv}?projectId=${this.client.core.projectId}&chainId=${r}&bundler=${i}`}}class Jv{constructor(r){this.name="solana",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=qt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class Yv{constructor(r){this.name="cosmos",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=qt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class Zv{constructor(r){this.name="algorand",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){if(!this.httpProviders[r]){const c=i||$e(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,c)}this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;r[i]=this.createHttpProvider(i,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new et(new tt(c,z("disableProviderPing")))}}class Xv{constructor(r){this.name="cip34",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{const c=this.getCardanoRPCUrl(i),d=qt(i);r[d]=this.createHttpProvider(d,c)}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}getCardanoRPCUrl(r){const i=this.namespace.rpcMap;if(i)return i[r]}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||this.getCardanoRPCUrl(r);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class Qv{constructor(r){this.name="elrond",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=qt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class jv{constructor(r){this.name="multiversx",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=qt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class kv{constructor(r){this.name="near",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){if(this.chainId=r,!this.httpProviders[r]){const c=i||$e(`${this.name}:${r}`,this.namespace);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,c)}this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;r[i]=this.createHttpProvider(i,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace);return typeof c>"u"?void 0:new et(new tt(c,z("disableProviderPing")))}}class Vv{constructor(r){this.name="tezos",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){if(this.chainId=r,!this.httpProviders[r]){const c=i||$e(`${this.name}:${r}`,this.namespace);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,c)}this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{r[i]=this.createHttpProvider(i)}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace);return typeof c>"u"?void 0:new et(new tt(c))}}class e_{constructor(r){this.name=nn,this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(r.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(r.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(r.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(r.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider(r.chainId).request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){var r,i;const c={};return(i=(r=this.namespace)==null?void 0:r.accounts)==null||i.forEach(d=>{const C=du(d);c[`${C.namespace}:${C.reference}`]=this.createHttpProvider(d)}),c}getHttpProvider(r){const i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}var t_=Object.defineProperty,n_=Object.defineProperties,r_=Object.getOwnPropertyDescriptors,uu=Object.getOwnPropertySymbols,i_=Object.prototype.hasOwnProperty,s_=Object.prototype.propertyIsEnumerable,cu=(y,r,i)=>r in y?t_(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,br=(y,r)=>{for(var i in r||(r={}))i_.call(r,i)&&cu(y,i,r[i]);if(uu)for(var i of uu(r))s_.call(r,i)&&cu(y,i,r[i]);return y},rs=(y,r)=>n_(y,r_(r));let a_=class mu{constructor(r){this.events=new hv,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=r,this.logger=typeof(r==null?void 0:r.logger)<"u"&&typeof(r==null?void 0:r.logger)!="string"?r.logger:fv(lv({level:(r==null?void 0:r.logger)||ko})),this.disableProviderPing=(r==null?void 0:r.disableProviderPing)||!1}static async init(r){const i=new mu(r);return await i.initialize(),i}async request(r,i,c){const[d,C]=this.validateChain(i);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(d).request({request:br({},r),chainId:`${d}:${C}`,topic:this.session.topic,expiry:c})}sendAsync(r,i,c,d){const C=new Date().getTime();this.request(r,c,d).then(I=>i(null,pv(C,I))).catch(I=>i(I,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var r;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(r=this.session)==null?void 0:r.topic,reason:ss("USER_DISCONNECTED")}),await this.cleanup()}async connect(r){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(r),await this.cleanupPendingPairings(),!r.skipPairing)return await this.pair(r.pairingTopic)}async authenticate(r,i){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(r),await this.cleanupPendingPairings();const{uri:c,response:d}=await this.client.authenticate(r,i);c&&(this.uri=c,this.events.emit("display_uri",c));const C=await d();if(this.session=C.session,this.session){const I=ru(this.session.namespaces);this.namespaces=es(this.namespaces,I),this.persist("namespaces",this.namespaces),this.onConnect()}return C}on(r,i){this.events.on(r,i)}once(r,i){this.events.once(r,i)}removeListener(r,i){this.events.removeListener(r,i)}off(r,i){this.events.off(r,i)}get isWalletConnect(){return!0}async pair(r){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:c,approval:d}=await this.client.connect({pairingTopic:r,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});c&&(this.uri=c,this.events.emit("display_uri",c)),await d().then(C=>{this.session=C;const I=ru(C.namespaces);this.namespaces=es(this.namespaces,I),this.persist("namespaces",this.namespaces)}).catch(C=>{if(C.message!==dv)throw C;i++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(r,i){try{if(!this.session)return;const[c,d]=this.validateChain(r),C=this.getProvider(c);C.name===nn?C.setDefaultChain(`${c}:${d}`,i):C.setDefaultChain(d,i)}catch(c){if(!/Please call connect/.test(c.message))throw c}}async cleanupPendingPairings(r={}){this.logger.info("Cleaning up inactive pairings...");const i=this.client.pairing.getAll();if(Sn(i)){for(const c of i)r.deletePairings?this.client.core.expirer.set(c.topic,0):await this.client.core.relayer.subscriber.unsubscribe(c.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const r=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[r]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await gv.init({core:this.providerOpts.core,logger:this.providerOpts.logger||ko,relayUrl:this.providerOpts.relayUrl||xv,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const r=[...new Set(Object.keys(this.session.namespaces).map(i=>On(i)))];ns("client",this.client),ns("events",this.events),ns("disableProviderPing",this.disableProviderPing),r.forEach(i=>{if(!this.session)return;const c=Mv(i,this.session),d=vu(c),C=es(this.namespaces,this.optionalNamespaces),I=rs(br({},C[i]),{accounts:c,chains:d});switch(i){case"eip155":this.rpcProviders[i]=new Kv({namespace:I});break;case"algorand":this.rpcProviders[i]=new Zv({namespace:I});break;case"solana":this.rpcProviders[i]=new Jv({namespace:I});break;case"cosmos":this.rpcProviders[i]=new Yv({namespace:I});break;case"polkadot":this.rpcProviders[i]=new qv({namespace:I});break;case"cip34":this.rpcProviders[i]=new Xv({namespace:I});break;case"elrond":this.rpcProviders[i]=new Qv({namespace:I});break;case"multiversx":this.rpcProviders[i]=new jv({namespace:I});break;case"near":this.rpcProviders[i]=new kv({namespace:I});break;case"tezos":this.rpcProviders[i]=new Vv({namespace:I});break;default:this.rpcProviders[nn]?this.rpcProviders[nn].updateNamespace(I):this.rpcProviders[nn]=new e_({namespace:I})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",r=>{this.events.emit("session_ping",r)}),this.client.on("session_event",r=>{const{params:i}=r,{event:c}=i;if(c.name==="accountsChanged"){const d=c.data;d&&Sn(d)&&this.events.emit("accountsChanged",d.map(Uv))}else if(c.name==="chainChanged"){const d=i.chainId,C=i.event.data,I=On(d),O=ts(d)!==ts(C)?`${I}:${ts(C)}`:d;this.onChainChanged(O)}else this.events.emit(c.name,c.data);this.events.emit("session_event",r)}),this.client.on("session_update",({topic:r,params:i})=>{var c;const{namespaces:d}=i,C=(c=this.client)==null?void 0:c.session.get(r);this.session=rs(br({},C),{namespaces:d}),this.onSessionUpdate(),this.events.emit("session_update",{topic:r,params:i})}),this.client.on("session_delete",async r=>{await this.cleanup(),this.events.emit("session_delete",r),this.events.emit("disconnect",rs(br({},ss("USER_DISCONNECTED")),{data:r.topic}))}),this.on(Ke.DEFAULT_CHAIN_CHANGED,r=>{this.onChainChanged(r,!0)})}getProvider(r){return this.rpcProviders[r]||this.rpcProviders[nn]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(r=>{var i;this.getProvider(r).updateNamespace((i=this.session)==null?void 0:i.namespaces[r])})}setNamespaces(r){const{namespaces:i,optionalNamespaces:c,sessionProperties:d}=r;i&&Object.keys(i).length&&(this.namespaces=i),c&&Object.keys(c).length&&(this.optionalNamespaces=c),this.sessionProperties=d,this.persist("namespaces",i),this.persist("optionalNamespaces",c)}validateChain(r){const[i,c]=(r==null?void 0:r.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[i,c];if(i&&!Object.keys(this.namespaces||{}).map(I=>On(I)).includes(i))throw new Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&c)return[i,c];const d=On(Object.keys(this.namespaces)[0]),C=this.rpcProviders[d].getDefaultChain();return[d,C]}async requestAccounts(){const[r]=this.validateChain();return await this.getProvider(r).requestAccounts()}onChainChanged(r,i=!1){if(!this.namespaces)return;const[c,d]=this.validateChain(r);d&&(i||this.getProvider(c).setDefaultChain(d),this.namespaces[c]?this.namespaces[c].defaultChain=d:this.namespaces[`${c}:${d}`]?this.namespaces[`${c}:${d}`].defaultChain=d:this.namespaces[`${c}:${d}`]={defaultChain:d},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",d))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(r,i){this.client.core.storage.setItem(`${Vo}/${r}`,i)}async getFromStore(r){return await this.client.core.storage.getItem(`${Vo}/${r}`)}};const o_=a_,u_="wc",c_="ethereum_provider",h_=`${u_}@2:${c_}:`,f_="https://rpc.walletconnect.org/v1/",os=["eth_sendTransaction","personal_sign"],l_=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],us=["chainChanged","accountsChanged"],p_=["chainChanged","accountsChanged","message","disconnect","connect"];var d_=Object.defineProperty,g_=Object.defineProperties,v_=Object.getOwnPropertyDescriptors,hu=Object.getOwnPropertySymbols,__=Object.prototype.hasOwnProperty,m_=Object.prototype.propertyIsEnumerable,fu=(y,r,i)=>r in y?d_(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,rn=(y,r)=>{for(var i in r||(r={}))__.call(r,i)&&fu(y,i,r[i]);if(hu)for(var i of hu(r))m_.call(r,i)&&fu(y,i,r[i]);return y},is=(y,r)=>g_(y,v_(r));function Or(y){return Number(y[0].split(":")[1])}function Er(y){return`0x${y.toString(16)}`}function w_(y){const{chains:r,optionalChains:i,methods:c,optionalMethods:d,events:C,optionalEvents:I,rpcMap:O}=y;if(!Sn(r))throw new Error("Invalid chains");const L={chains:r,methods:c||os,events:C||us,rpcMap:rn({},r.length?{[Or(r)]:O[Or(r)]}:{})},ne=C==null?void 0:C.filter(ce=>!us.includes(ce)),pe=c==null?void 0:c.filter(ce=>!os.includes(ce));if(!i&&!I&&!d&&!(ne!=null&&ne.length)&&!(pe!=null&&pe.length))return{required:r.length?L:void 0};const de=(ne==null?void 0:ne.length)&&(pe==null?void 0:pe.length)||!i,se={chains:[...new Set(de?L.chains.concat(i||[]):i)],methods:[...new Set(L.methods.concat(d!=null&&d.length?d:l_))],events:[...new Set(L.events.concat(I!=null&&I.length?I:p_))],rpcMap:O};return{required:r.length?L:void 0,optional:i.length?se:void 0}}class cs{constructor(){this.events=new lu.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=h_,this.on=(r,i)=>(this.events.on(r,i),this),this.once=(r,i)=>(this.events.once(r,i),this),this.removeListener=(r,i)=>(this.events.removeListener(r,i),this),this.off=(r,i)=>(this.events.off(r,i),this),this.parseAccount=r=>this.isCompatibleChainId(r)?this.parseAccountId(r).address:r,this.signer={},this.rpc={}}static async init(r){const i=new cs;return await i.initialize(r),i}async request(r,i){return await this.signer.request(r,this.formatChainId(this.chainId),i)}sendAsync(r,i,c){this.signer.sendAsync(r,i,this.formatChainId(this.chainId),c)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(r){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(r);const{required:i,optional:c}=w_(this.rpc);try{const d=await new Promise(async(I,O)=>{var L;this.rpc.showQrModal&&((L=this.modal)==null||L.subscribeModal(ne=>{!ne.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),O(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(is(rn({namespaces:rn({},i&&{[this.namespace]:i})},c&&{optionalNamespaces:{[this.namespace]:c}}),{pairingTopic:r==null?void 0:r.pairingTopic})).then(ne=>{I(ne)}).catch(ne=>{O(new Error(ne.message))})});if(!d)return;const C=zo(d.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:C),this.setAccounts(C),this.events.emit("connect",{chainId:Er(this.chainId)})}catch(d){throw this.signer.logger.error(d),d}finally{this.modal&&this.modal.closeModal()}}async authenticate(r,i){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:r==null?void 0:r.chains});try{const c=await new Promise(async(C,I)=>{var O;this.rpc.showQrModal&&((O=this.modal)==null||O.subscribeModal(L=>{!L.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),I(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(is(rn({},r),{chains:this.rpc.chains}),i).then(L=>{C(L)}).catch(L=>{I(new Error(L.message))})}),d=c.session;if(d){const C=zo(d.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:C),this.setAccounts(C),this.events.emit("connect",{chainId:Er(this.chainId)})}return c}catch(c){throw this.signer.logger.error(c),c}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",r=>{const{params:i}=r,{event:c}=i;c.name==="accountsChanged"?(this.accounts=this.parseAccounts(c.data),this.events.emit("accountsChanged",this.accounts)):c.name==="chainChanged"?this.setChainId(this.formatChainId(c.data)):this.events.emit(c.name,c.data),this.events.emit("session_event",r)}),this.signer.on("chainChanged",r=>{const i=parseInt(r);this.chainId=i,this.events.emit("chainChanged",Er(this.chainId)),this.persist()}),this.signer.on("session_update",r=>{this.events.emit("session_update",r)}),this.signer.on("session_delete",r=>{this.reset(),this.events.emit("session_delete",r),this.events.emit("disconnect",is(rn({},ss("USER_DISCONNECTED")),{data:r.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",r=>{var i,c;this.rpc.showQrModal&&((i=this.modal)==null||i.closeModal(),(c=this.modal)==null||c.openModal({uri:r})),this.events.emit("display_uri",r)})}switchEthereumChain(r){this.request({method:"wallet_switchEthereumChain",params:[{chainId:r.toString(16)}]})}isCompatibleChainId(r){return typeof r=="string"?r.startsWith(`${this.namespace}:`):!1}formatChainId(r){return`${this.namespace}:${r}`}parseChainId(r){return Number(r.split(":")[1])}setChainIds(r){const i=r.filter(c=>this.isCompatibleChainId(c)).map(c=>this.parseChainId(c));i.length&&(this.chainId=i[0],this.events.emit("chainChanged",Er(this.chainId)),this.persist())}setChainId(r){if(this.isCompatibleChainId(r)){const i=this.parseChainId(r);this.chainId=i,this.switchEthereumChain(i)}}parseAccountId(r){const[i,c,d]=r.split(":");return{chainId:`${i}:${c}`,address:d}}setAccounts(r){this.accounts=r.filter(i=>this.parseChainId(this.parseAccountId(i).chainId)===this.chainId).map(i=>this.parseAccountId(i).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(r){var i,c;const d=(i=r==null?void 0:r.chains)!=null?i:[],C=(c=r==null?void 0:r.optionalChains)!=null?c:[],I=d.concat(C);if(!I.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const O=d.length?(r==null?void 0:r.methods)||os:[],L=d.length?(r==null?void 0:r.events)||us:[],ne=(r==null?void 0:r.optionalMethods)||[],pe=(r==null?void 0:r.optionalEvents)||[],de=(r==null?void 0:r.rpcMap)||this.buildRpcMap(I,r.projectId),se=(r==null?void 0:r.qrModalOptions)||void 0;return{chains:d==null?void 0:d.map(ce=>this.formatChainId(ce)),optionalChains:C.map(ce=>this.formatChainId(ce)),methods:O,events:L,optionalMethods:ne,optionalEvents:pe,rpcMap:de,showQrModal:!!(r!=null&&r.showQrModal),qrModalOptions:se,projectId:r.projectId,metadata:r.metadata}}buildRpcMap(r,i){const c={};return r.forEach(d=>{c[d]=this.getRpcUrl(d,i)}),c}async initialize(r){if(this.rpc=this.getRpcConfig(r),this.chainId=this.rpc.chains.length?Or(this.rpc.chains):Or(this.rpc.optionalChains),this.signer=await o_.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:r.disableProviderPing,relayUrl:r.relayUrl,storageOptions:r.storageOptions,customStoragePrefix:r.customStoragePrefix,telemetryEnabled:r.telemetryEnabled,logger:r.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let i;try{const{WalletConnectModal:c}=await av(()=>import("./index-BV6pXkST.js").then(d=>d.i),__vite__mapDeps([0,1,2]));i=c}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(i)try{this.modal=new i(rn({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(c){throw this.signer.logger.error(c),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(r){if(!r)return;const{chains:i,optionalChains:c,rpcMap:d}=r;i&&Sn(i)&&(this.rpc.chains=i.map(C=>this.formatChainId(C)),i.forEach(C=>{this.rpc.rpcMap[C]=(d==null?void 0:d[C])||this.getRpcUrl(C)})),c&&Sn(c)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=c==null?void 0:c.map(C=>this.formatChainId(C)),c.forEach(C=>{this.rpc.rpcMap[C]=(d==null?void 0:d[C])||this.getRpcUrl(C)}))}getRpcUrl(r,i){var c;return((c=this.rpc.rpcMap)==null?void 0:c[r])||`${f_}?chainId=eip155:${r}&projectId=${i||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const r=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),i=this.session.namespaces[`${this.namespace}:${r}`]?this.session.namespaces[`${this.namespace}:${r}`]:this.session.namespaces[this.namespace];this.setChainIds(r?[this.formatChainId(r)]:i==null?void 0:i.accounts),this.setAccounts(i==null?void 0:i.accounts)}catch(r){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(r),await this.disconnect().catch(i=>this.signer.logger.warn(i))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(r){return typeof r=="string"||r instanceof String?[this.parseAccount(r)]:r.map(i=>this.parseAccount(i))}}const x_=cs;export{x_ as EthereumProvider,p_ as OPTIONAL_EVENTS,l_ as OPTIONAL_METHODS,us as REQUIRED_EVENTS,os as REQUIRED_METHODS,cs as default};
