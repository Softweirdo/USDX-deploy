import{c as E,j as a,G as v,a as V,T as B}from"./index-Cm3a0QdF.js";import{u as m,f as i,a as M,h as O,C as G,L as I}from"./moment-QywX9ybr.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=E("FileLock2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v1",key:"jmtmu2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["rect",{width:"8",height:"5",x:"2",y:"13",rx:"1",key:"10y5wo"}],["path",{d:"M8 13v-2a2 2 0 1 0-4 0v2",key:"1pdxzg"}]]);function H({type:n}){var g,x,u,p,f,b,y,N,j,L,T,D,w,k,F,A,C;const{loading:c,error:d,data:o}=m(v),{data:t}=m(V),e=m(B);if(c)return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:Array.from({length:4}).map((r,l)=>a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-4"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded w-32"})]},`skeleton-${l}`))});const s=((u=(x=o==null?void 0:o.getFilteredTokenData)==null?void 0:x[((g=o==null?void 0:o.getFilteredTokenData)==null?void 0:g.length)-1])==null?void 0:u.tokenBalance)||[],h=((p=t==null?void 0:t.userCountAndTotalStack)==null?void 0:p.totalUsers)||0;return console.log("totalUsers",h),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-${n==="dashboard"?"4":"3"} gap-4 mb-4 animate-[fadeIn_0.5s_ease-in-out]`,children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"LP Treasury "}),a.jsxs("div",{className:" flex mt-2 space-y-1",children:[a.jsx("p",{className:"text-2xl font-semibold ",style:{color:"#066fd2"},children:(s==null?void 0:s.length)>0?i(parseFloat((f=s==null?void 0:s.map(function(r){return r.balance}))==null?void 0:f.reduce(function(r,l){return Number(r)+Number(l)}))):0}),a.jsx("a",{href:"https://polygonscan.com/address/0xF092Df0CEB5397356f0AC30fC17f2049d42C2b98",target:"_blank",rel:"noopener noreferrer",className:" ml-3 text-[#066fd2] hover:text-blue-600","aria-label":"Go to Contract",children:a.jsx(_,{})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg relative",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-500",children:["LP"," ",(b=e==null?void 0:e.data)!=null&&b.getLpPairData[0].name?(y=e==null?void 0:e.data)==null?void 0:y.getLpPairData[0].name:"DAI","/",(N=e==null?void 0:e.data)!=null&&N.getLpPairData[1].name?(j=e==null?void 0:e.data)==null?void 0:j.getLpPairData[1].name:"USDX"]}),a.jsxs("div",{className:"mt-2 space-y-1 flex",children:[a.jsx("p",{className:"text-2xl font-semibold",style:{color:"#066fd2"},children:((T=(L=e==null?void 0:e.data)==null?void 0:L.getLpPairData)==null?void 0:T.length)>0?i(parseFloat(((D=e==null?void 0:e.data)==null?void 0:D.getLpPairData[0].balance)+((w=e==null?void 0:e.data)==null?void 0:w.getLpPairData[1].balance))):0}),a.jsx("a",{href:"https://polygonscan.com/address/0x4F801D112A444aAAf1BE30168D3eFF00973d2DE5",target:"_blank",rel:"noopener noreferrer",className:" ml-3 text-[#066fd2] hover:text-blue-600","aria-label":"Go to Contract",children:a.jsx(_,{})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total LP TVL"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx("p",{className:"text-2xl font-semibold ",style:{color:"#066fd2"},children:((F=(k=e==null?void 0:e.data)==null?void 0:k.getLpPairData)==null?void 0:F.length)>0&&(s==null?void 0:s.length)>0?i(parseFloat(((A=e==null?void 0:e.data)==null?void 0:A.getLpPairData[0].balance)+((C=e==null?void 0:e.data)==null?void 0:C.getLpPairData[1].balance)+Number(s.map(function(r){return r.balance}).reduce(function(r,l){return Number(r)+Number(l)})))):0})})]}),n==="dashboard"&&a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Stakers"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx("p",{className:"text-2xl font-semibold ",style:{color:"#066fd2"},children:h?M(h.toString()):0})})]})]}),n!=="dashboard"&&a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4 animate-[fadeIn_0.5s_ease-in-out]",children:s.map((r,l)=>a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md transition-all duration-300 hover:shadow-lg",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-500",children:["Current ",r.tokenName," TVL"]}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx("p",{className:"text-2xl font-semibold",style:{color:"#066fd2"},children:i(parseFloat(r.balance))})})]},`${r.tokenSymbol}-${l}`))})]})}const P=["#6366f1","#f59e0b","#10b981","#ec4899","#8b5cf6"];function R(n){const c=[...n].sort((e,s)=>new Date(e.timestamp).getTime()-new Date(s.timestamp).getTime()),d=new Set(n.flatMap(e=>e.tokenBalance.map(s=>s.tokenSymbol))),o=c.map(e=>({date:O(Number(e.timestamp)).format("MM/DD/yyyy"),...Object.fromEntries(e.tokenBalance.map(s=>[s.tokenSymbol,parseFloat(s.balance)]))})),t=Array.from(d).map((e,s)=>({key:e,label:e,color:P[s%P.length]}));return{chartData:o,series:t}}function q(){const{loading:n,error:c,data:d}=m(v),{chartData:o,series:t}=R((d==null?void 0:d.getFilteredTokenData)||[]);return a.jsx("div",{className:"transform transition-all duration-500 hover:scale-[1.02]",children:a.jsx(G,{title:"Treasury TVL",children:a.jsx(I,{data:o,series:t,yAxisLabel:"Balance",formatValue:i})})})}export{H as T,q as a};
