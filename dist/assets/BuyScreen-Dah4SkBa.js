import{ay as ct,aa as dt,a0 as be,ax as ye,ab as et,aM as zt,r as b,j as t,aL as Ce,ad as Rt,Z as lt,aN as Se}from"./index-fsOahuMz.js";import{o as Dt,p as Ot,q as ut,u as le,w as pt,x as Pt,y as r,z as Mt,A as Lt,B as qt,E as F,S as ht,F as U,G as K,H as Nt,J as _t,K as Be,L as We,M as mt,O,P as ce,Q as q,R as ee,T as y,U as ve,V as R,W as xt,X as Te,Y as x,Z as fe,_ as $,$ as X,a0 as M,a1 as Fe,a2 as Ee,a3 as $t,a4 as J,a5 as G,a6 as Ht,a7 as yt,a8 as je,a9 as Ie,aa as ze,ab as Ut,ac as Qt,ad as Ae,ae as ge,af as Vt,ag as Re,ah as De,ai as ft,aj as Y,ak as jt,al as Gt,am as gt,an as Kt,ao as Yt,ap as ke,aq as Zt,ar as Jt,as as kt,at as Xt,au as en,av as tt,aw as wt,ax as tn,ay as bt,az as nn,aA as Ct,aB as sn,aC as an,aD as St,aE as on,aF as rn,aG as cn,aH as dn,aI as ln,aJ as nt,aK as un,aL as Tt,aM as hn,aN as mn,aO as xn,aP as yn,aQ as fn,aR as jn,aS as st,aT as gn,aU as kn,aV as wn}from"./Staking-DNxAr3EA.js";import{decimals as bn}from"./decimals-D61mVWLx.js";import{h as Cn,t as xe,R as re,Q as Sn,a5 as at,q as Tn,u as An}from"./allowance-Dq4y5cN1.js";import{getCurrencyMetadata as Bn}from"./getCurrencyMetadata-DM3aYGO5.js";import"./TypedData-BCZggr1M.js";import"./Address-C7Efc8vg.js";import"./arweave-CAGvOb64.js";import"./decimals-BVEPPMOq.js";async function Wn(e){try{const o=await ct(e.client)(Dt(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:dt({fromAddress:e.fromAddress,toAddress:e.toAddress,chainId:e.chainId,tokenAddress:e.tokenAddress,amount:e.amount,purchaseData:e.purchaseData})});if(!o.ok){const u=await o.json();throw u&&"error"in u?u:new Error(`HTTP error! status: ${o.status}`)}const s=(await o.json()).result;return{transactionRequest:{chain:be(s.transactionRequest.chainId),client:e.client,data:s.transactionRequest.data,to:s.transactionRequest.to,value:BigInt(s.transactionRequest.value),gas:BigInt(s.transactionRequest.gasLimit)},approval:s.approval?Cn({contract:ye({client:e.client,address:s.approval.tokenAddress,chain:be(s.approval.chainId)}),spender:s.approval.spenderAddress,amountWei:BigInt(s.approval.amountWei)}):void 0,fromAddress:s.fromAddress,toAddress:s.toAddress,paymentToken:s.paymentToken,processingFee:s.processingFee,estimatedGasCostUSDCents:s.estimatedGasCostUSDCents,client:e.client}}catch(n){throw console.error("Error getting buy with crypto transfer",n),n}}async function vn(e){try{const o=await ct(e.client)(Ot(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:dt({toAddress:e.toAddress,fromCurrencySymbol:e.fromCurrencySymbol,toChainId:e.toChainId.toString(),toTokenAddress:e.toTokenAddress,fromAmount:e.fromAmount,toAmount:e.toAmount,maxSlippageBPS:e.maxSlippageBPS,isTestMode:e.isTestMode,purchaseData:e.purchaseData,fromAddress:e.fromAddress,toGasAmountWei:e.toGasAmountWei,preferredProvider:e.preferredProvider})});if(!o.ok){const s=await o.json();throw s&&"error"in s?s:new Error(`HTTP error! status: ${o.status}`)}return(await o.json()).result}catch(n){throw console.error("Error getting buy with fiat quote",n),n}}function At(e){const n=e.toToken.chainId===e.onRampToken.token.chainId,o=et(e.toToken.tokenAddress)===et(e.onRampToken.token.tokenAddress);return!(n&&o)}async function ot(e){const n=await ut(e);return zt(n)}function Fn(e,n){return le({...n,queryKey:["buyWithCryptoQuote",e],queryFn:()=>{if(!e)throw new Error("Swap params are required");return pt(e)},enabled:!!e,retry(o,s){if(o>3)return!1;try{const a=s.error;if(a.code==="MINIMUM_PURCHASE_AMOUNT"||a.statusCode===404||a.statusCode>=500)return!1}catch{return!0}return!0}})}function En(e,n){return le({...n,queryKey:["useBuyWithFiatQuote",e],queryFn:async()=>{if(!e)throw new Error("No params provided");return vn(e)},enabled:!!e,retry(o,s){if(o>3)return!1;try{const a=s.error;if(a.code==="MINIMUM_PURCHASE_AMOUNT"||a.statusCode===404||a.statusCode>=500)return!1}catch{return!0}return!0}})}const Bt=b.forwardRef(function(n,o){return t.jsx(In,{ref:o,children:t.jsx(Pt,{children:t.jsxs(r,{p:"lg",children:[t.jsx(Mt,{children:t.jsx(Lt,{type:"button","aria-label":"Close",onClick:n.close,children:t.jsx(qt,{width:F.md,height:F.md,style:{color:"inherit"}})})}),n.children]})})})}),In=ht(e=>{const n=U();return{zIndex:1e4,borderTopLeftRadius:K.xl,borderTopRightRadius:K.xl,background:n.colors.modalBg,position:"absolute",bottom:0,left:0,right:0,animation:`${zn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1)`,borderTop:`1px solid ${n.colors.borderColor}`}}),zn=Nt`
  from {
    opacity: 0;
    transform: translateY(100px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,Wt=ht(e=>({backgroundColor:U().colors.modalOverlayBg,zIndex:9999,position:"absolute",inset:0,animation:`${_t} 400ms cubic-bezier(0.16, 1, 0.3, 1)`}));function vt(){const[e,n]=b.useState(!1),o=b.useRef(null),s=b.useRef(null),a=b.useCallback(()=>new Promise(d=>{var c;if(o.current){const l={easing:"cubic-bezier(0.175, 0.885, 0.32, 1.1)",fill:"forwards",duration:300},i=o.current.animate([{transform:"translateY(100%)",opacity:0}],l);(c=s.current)==null||c.animate([{opacity:0}],l),i.onfinish=()=>d()}else d()}),[]),u=b.useCallback(async d=>{d?n(!0):(await a(),n(!1))},[a]);return b.useLayoutEffect(()=>{if(!e)return;const d=c=>{o.current&&c.target instanceof Node&&!o.current.contains(c.target)&&u(!1)};return requestAnimationFrame(()=>{document.addEventListener("click",d)}),()=>{document.removeEventListener("click",d)}},[e,u]),{drawerRef:o,drawerOverlayRef:s,setIsOpen:u,isOpen:e}}function Rn(e){var g,S,C,k,w,I;const{payUiOptions:n,supportedDestinations:o,client:s,onContinue:a,payerAccount:u}=e,d=U(),c=Be(),l=n.metadata,i=n.paymentInfo,{data:h}=We(i.chain),{data:f}=mt({client:s,address:i.sellerAddress}),j=le({queryKey:["amount",i],queryFn:async()=>{let E=18;i.token&&!O(i.token)&&(E=await bn({contract:ye({address:i.token.address,chain:i.chain,client:s})}));let T;return"amountWei"in i?T=xe(i.amountWei,E):T=i.amount,T}}).data;if(!h||j===void 0)return t.jsx(ce,{});const B=i.token?{...i.token,icon:((g=i.token)==null?void 0:g.icon)||((C=(S=o.find(E=>E.chain.id===i.chain.id))==null?void 0:S.tokens.find(E=>{var T;return E.address.toLowerCase()===((T=i.token)==null?void 0:T.address.toLowerCase())}))==null?void 0:C.icon)}:{address:q,name:h.nativeCurrency.name,symbol:h.nativeCurrency.symbol,icon:(k=h.icon)==null?void 0:k.url};return t.jsxs(r,{p:"lg",children:[t.jsx(ee,{title:(l==null?void 0:l.name)||"Payment Details"}),t.jsx(y,{y:"lg"}),t.jsxs(r,{children:[l!=null&&l.image?t.jsx(ve,{client:s,src:l==null?void 0:l.image,style:{width:"100%",borderRadius:R.md,backgroundColor:d.colors.tertiaryBg}}):c?t.jsxs(r,{flex:"row",center:"both",style:{padding:R.md,marginBottom:R.md,borderRadius:R.md,backgroundColor:d.colors.tertiaryBg},children:[t.jsx(xt,{size:F.xl,id:c.id,client:s}),t.jsx("div",{style:{flexGrow:1,borderBottom:"6px dotted",borderColor:d.colors.secondaryIconColor,marginLeft:R.md,marginRight:R.md}}),t.jsx(Te,{client:s,size:F.xl,chainIconUrl:(w=h.icon)==null?void 0:w.url})]}):null,t.jsx(y,{y:"md"}),t.jsxs(r,{flex:"row",children:[t.jsx(r,{flex:"column",expand:!0,children:t.jsx(x,{size:"md",color:"primaryText",weight:700,children:"Price"})}),t.jsx(r,{expand:!0,children:t.jsxs(r,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[t.jsx(fe,{chain:i.chain,client:e.client,size:"sm",token:B}),t.jsxs(x,{color:"primaryText",size:"md",weight:700,children:[String($(Number(j),6))," ",B.symbol]})]})})]}),t.jsx(y,{y:"md"}),t.jsx(X,{}),t.jsx(y,{y:"md"}),t.jsxs(r,{flex:"row",children:[t.jsx(r,{flex:"column",expand:!0,children:t.jsx(x,{size:"xs",color:"secondaryText",children:"Network"})}),t.jsx(r,{expand:!0,children:t.jsxs(r,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[t.jsx(Te,{chainIconUrl:(I=h.icon)==null?void 0:I.url,size:"xs",client:e.client}),t.jsx(x,{size:"xs",color:"secondaryText",style:{textAlign:"right"},children:h.name})]})})]}),t.jsx(y,{y:"sm"}),t.jsxs(r,{flex:"row",children:[t.jsx(r,{flex:"column",expand:!0,children:t.jsx(x,{size:"xs",color:"secondaryText",children:"Seller"})}),t.jsx(r,{expand:!0,children:t.jsx(r,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:t.jsx(x,{size:"xs",color:"secondaryText",style:{textAlign:"right"},children:f||Ce(i.sellerAddress)})})})]})]}),t.jsx(y,{y:"xl"}),u?t.jsx(M,{variant:"accent",fullWidth:!0,onClick:()=>{Fe({event:"choose_payment_method_direct_payment_mode",client:s,walletAddress:u.address,walletType:c==null?void 0:c.id}),a(j,i.chain,B)},children:"Choose Payment Method"}):t.jsx("div",{children:t.jsx(Ee,{...e.connectOptions,client:s,theme:d,connectButton:{style:{width:"100%"}}})})]})}function Ft(e){const{estimatedSeconds:n,quoteIsLoading:o}=e;return t.jsxs(r,{bg:"tertiaryBg",flex:"row",borderColor:"borderColor",style:{borderRadius:K.md,borderTopLeftRadius:0,borderTopRightRadius:0,justifyContent:"space-between",alignItems:"center",borderWidth:"1px",borderStyle:"solid"},children:[t.jsxs(r,{flex:"row",center:"y",gap:"xxs",color:"accentText",p:"sm",children:[t.jsx($t,{width:F.sm,height:F.sm}),o?t.jsx(J,{height:G.xs,width:"50px",color:"borderColor"}):t.jsx(x,{size:"xs",color:"secondaryText",children:n!==void 0?`~${Ht(n)}`:"--"})]}),t.jsxs(M,{variant:"ghost",onClick:e.onViewFees,gap:"xs",children:[t.jsx(r,{color:"accentText",flex:"row",center:"both",children:t.jsx(Dn,{size:F.sm})}),t.jsx(x,{size:"xs",color:"secondaryText",children:"View Fees"})]})]})}const Dn=e=>t.jsxs("svg",{width:e.size,height:e.size,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[t.jsx("path",{d:"M9.5 1.5H2.5C1.94772 1.5 1.5 1.94772 1.5 2.5V9.5C1.5 10.0523 1.94772 10.5 2.5 10.5H9.5C10.0523 10.5 10.5 10.0523 10.5 9.5V2.5C10.5 1.94772 10.0523 1.5 9.5 1.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M4.5 7.5L7.5 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});function On(e){return t.jsxs(r,{bg:"tertiaryBg",borderColor:"borderColor",flex:"row",style:{borderRadius:K.md,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderWidth:"1px",borderStyle:"solid",borderBottom:"none",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(pn,{variant:"ghost",onClick:e.onSelectCurrency,style:{minHeight:"64px",justifyContent:"flex-start",minWidth:"50%"},gap:"sm",children:[t.jsx(e.currency.icon,{size:F.md}),t.jsxs(r,{flex:"row",center:"y",gap:"xxs",color:"secondaryText",children:[t.jsx(x,{color:"primaryText",children:e.currency.shorthand}),t.jsx(yt,{width:F.sm,height:F.sm})]})]}),t.jsx("div",{style:{flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:R.xxs,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",justifyContent:"center",paddingRight:R.sm},children:e.isLoading?t.jsx(J,{width:"100px",height:G.lg}):t.jsx(x,{size:"lg",color:e.value?"primaryText":"secondaryText",children:e.value?`${$(Number(e.value),6)}`:"--"})})]})}const pn=je(M)(()=>({"&[disabled]:hover":{borderColor:"transparent"}}));function Pn(e){const n=U(),[o,s]=b.useState(!1),a=3,u=o?e.balances:e.balances.slice(0,a);return t.jsxs(r,{bg:"tertiaryBg",style:{borderRadius:K.lg,border:`1px solid ${n.colors.borderColor}`},children:[t.jsx(r,{style:{padding:R.sm},children:t.jsx(de,{...e})}),t.jsx("div",{style:{borderTop:`1px solid ${n.colors.borderColor}`}}),t.jsx(r,{flex:"column",children:e.balances.length>0?t.jsxs(t.Fragment,{children:[u.map(d=>t.jsx(Mn,{client:e.client,onClick:()=>e.onClick(e.wallet,d.token,d.chain),tokenBalance:d,wallet:e.wallet},`${d.token.address}-${d.chain.id}`)),e.balances.length>a&&t.jsx(Et,{variant:"secondary",onClick:()=>s(!o),style:{justifyContent:"start"},children:t.jsx(x,{size:"xs",children:o?"Show less":"Show more"})})]}):t.jsx(r,{style:{padding:R.sm},children:t.jsx(x,{size:"sm",color:"secondaryText",children:"Not enough funds"})})})]})}function Mn(e){const{tokenBalance:n,wallet:o,onClick:s,client:a}=e,u=Ie(n.chain);return t.jsxs(Et,{onClick:()=>s(n.token,o),variant:"secondary",children:[t.jsx(fe,{token:n.token,chain:n.chain,size:"md",client:a}),t.jsxs(r,{flex:"column",gap:"3xs",children:[t.jsx(x,{size:"xs",color:"primaryText",children:n.token.symbol}),t.jsx(x,{size:"xs",children:u.name})]}),t.jsx("div",{style:{flex:1}}),t.jsx(r,{flex:"row",center:"y",gap:"3xs",children:t.jsx(x,{size:"xs",color:"secondaryText",children:ze(n.balance,!0)})})]})}function de(e){const{client:n,address:o}=e,s=e.walletId,a=U(),u=mt({client:n,address:o}),d=u.data||Ce(o),c=Ut({client:n,ensName:u.data});return t.jsxs(r,{flex:"row",center:"y",gap:"sm",color:"secondaryText",children:[c.data?t.jsx(ve,{src:c.data,width:e.iconSize?F[e.iconSize]:F.md,height:e.iconSize?F[e.iconSize]:F.md,style:{borderRadius:"100%",overflow:"hidden",border:`1px solid ${a.colors.borderColor}`},client:e.client}):s?t.jsx(xt,{id:s,size:e.iconSize||F.md,client:e.client}):t.jsx(r,{style:{width:F.md,height:F.md,borderRadius:"100%",overflow:"hidden",border:`1px solid ${a.colors.borderColor}`},children:t.jsx(Qt,{address:e.address,size:Number(F.md)})}),t.jsx(x,{size:e.textSize||"sm",color:"primaryText",children:d||Ce(e.address)})]})}const Et=je(M)(e=>{const n=U();return{background:n.colors.tertiaryBg,justifyContent:"flex-start",flexDirection:"row",padding:R.sm,gap:R.sm,"&:hover":{background:n.colors.secondaryButtonBg,transform:"scale(1.01)"},transition:"background 200ms ease, transform 150ms ease"}});function Ln(e){const{transaction:n,account:o,supportedDestinations:s}=e,[a,u]=b.useState();return b.useEffect(()=>{Promise.all([re(n.value),re(n.erc20Value),re(n.to),Sn(n)]).then(([d,c,l,i])=>{var h;u({value:d==null?void 0:d.toString(),erc20Value:(h=c==null?void 0:c.amountWei)==null?void 0:h.toString(),erc20Currency:c==null?void 0:c.tokenAddress,to:l,data:i})})},[n]),le({queryKey:["transaction-cost",n.chain.id,o==null?void 0:o.address,a],queryFn:async()=>{var m,j,B;if(!o)throw new Error("No payer account found");const d=await re(n.erc20Value);if(d){const[g,S,C]=await Promise.all([Ae({address:o.address,chain:n.chain,client:n.client,tokenAddress:d.tokenAddress}),Bn({contract:ye({address:d.tokenAddress,chain:n.chain,client:n.client})}),at(n,o==null?void 0:o.address)]),k=d.amountWei,w=g;return{token:{address:d.tokenAddress,name:S.name,symbol:S.symbol,icon:(j=(m=s.find(E=>E.chain.id===n.chain.id))==null?void 0:m.tokens.find(E=>E.address.toLowerCase()===d.tokenAddress.toLowerCase()))==null?void 0:j.icon},decimals:S.decimals,walletBalance:w,gasCostWei:C,transactionValueWei:k}}const[c,l,i]=await Promise.all([Ae({address:o.address,chain:n.chain,client:n.client}),Rt(n.chain),at(n,o==null?void 0:o.address)]),h=c,f=await re(n.value)||0n;return{token:{address:q,name:l.nativeCurrency.name,symbol:l.nativeCurrency.symbol,icon:(B=l.icon)==null?void 0:B.url},decimals:18,walletBalance:h,gasCostWei:i,transactionValueWei:f}},enabled:!!n&&!!a,refetchInterval:()=>{if(!n.erc20Value)return 3e4}})}function qn(e){var E;const{payUiOptions:n,client:o,payerAccount:s,supportedDestinations:a,onContinue:u}=e,{data:d,error:c,isLoading:l,refetch:i}=We(n.transaction.chain),h=n.metadata,{data:f,error:m,isLoading:j,refetch:B}=Ln({transaction:n.transaction,account:s,supportedDestinations:a}),g=U(),S=Be(),C=ge(),k=Vt(S),w=Re({address:C==null?void 0:C.address,chain:n.transaction.chain,tokenAddress:O((f==null?void 0:f.token)||De)||f==null?void 0:f.token.address,client:e.client},{enabled:!!f});if(j||l)return t.jsx(ce,{});if(m||c)return t.jsx(r,{style:{minHeight:"350px"},fullHeight:!0,flex:"row",center:"both",children:t.jsx(ft,{title:(m==null?void 0:m.message)||(c==null?void 0:c.message)||"Something went wrong",onTryAgain:m?B:i})});if(!f||!d)return t.jsx(ce,{});const I=w.data&&w.data.value<f.transactionValueWei;return t.jsxs(r,{p:"lg",children:[t.jsx(ee,{title:(h==null?void 0:h.name)||"Transaction"}),t.jsx(y,{y:"lg"}),t.jsxs(r,{children:[h!=null&&h.image?t.jsx(ve,{client:o,src:h==null?void 0:h.image,style:{width:"100%",borderRadius:R.md,border:`1px solid ${g.colors.borderColor}`,backgroundColor:g.colors.tertiaryBg}}):C?t.jsxs(r,{flex:"column",gap:"sm",children:[I&&t.jsx(x,{size:"sm",color:"danger",style:{textAlign:"center"},children:"Insufficient funds"}),t.jsxs(r,{flex:"row",style:{justifyContent:"space-between",padding:R.sm,marginBottom:R.sm,borderRadius:R.md,backgroundColor:g.colors.tertiaryBg,border:`1px solid ${g.colors.borderColor}`},children:[t.jsx(de,{address:C==null?void 0:C.address,iconSize:"md",client:o}),w.data?t.jsxs(r,{flex:"row",gap:"3xs",center:"y",children:[t.jsx(x,{size:"xs",color:"secondaryText",weight:500,children:ze(w.data,!1)}),t.jsx(Y,{token:f.token,chain:n.transaction.chain,size:"xs",color:"secondaryText"})]}):t.jsx(J,{width:"70px",height:G.xs})]})]}):null,t.jsx(y,{y:"md"}),t.jsxs(r,{flex:"row",children:[t.jsx(r,{flex:"column",expand:!0,children:t.jsx(x,{size:"md",color:"primaryText",weight:700,children:"Price"})}),t.jsx(r,{expand:!0,children:t.jsxs(r,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[t.jsx(fe,{chain:n.transaction.chain,client:e.client,size:"sm",token:f.token}),t.jsxs(x,{color:"primaryText",size:"md",weight:700,children:[String($(Number(xe(f.transactionValueWei,f.decimals)),6))," ",f.token.symbol]})]})})]}),t.jsx(y,{y:"md"}),t.jsx(X,{}),t.jsx(y,{y:"md"}),t.jsxs(r,{flex:"row",children:[t.jsx(r,{flex:"column",expand:!0,children:t.jsx(x,{size:"xs",color:"secondaryText",children:"Gas Fees"})}),t.jsx(r,{expand:!0,children:t.jsx(r,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:t.jsx(x,{color:k?"success":"primaryText",size:"xs",children:k?"Sponsored":`${String($(Number(xe(f.gasCostWei,d.nativeCurrency.decimals)),6))} ${d.nativeCurrency.symbol}`})})})]}),t.jsx(y,{y:"sm"}),t.jsxs(r,{flex:"row",children:[t.jsx(r,{flex:"column",expand:!0,children:t.jsx(x,{size:"xs",color:"secondaryText",children:"Network"})}),t.jsx(r,{expand:!0,children:t.jsxs(r,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[t.jsx(Te,{chainIconUrl:(E=d.icon)==null?void 0:E.url,size:"xs",client:e.client}),t.jsx(x,{size:"xs",color:"secondaryText",style:{textAlign:"right"},children:d.name})]})})]})]}),t.jsx(y,{y:"xl"}),s?t.jsx(M,{variant:"accent",fullWidth:!0,onClick:()=>{let T=f.transactionValueWei;f.token.address===q&&!k&&(T+=f.gasCostWei),Fe({event:"choose_payment_method_transaction_mode",client:o,walletAddress:s.address,walletType:S==null?void 0:S.id}),u(xe(T,f.decimals),n.transaction.chain,f.token)},children:"Choose Payment Method"}):t.jsx("div",{children:t.jsx(Ee,{...e.connectOptions,client:o,theme:g,connectButton:{style:{width:"100%"}}})})]})}function Nn(e){return t.jsxs(r,{children:[t.jsx(r,{p:"lg",children:t.jsx(ee,{title:"Pay with",onBack:e.onBack})}),t.jsx(X,{}),t.jsx(y,{y:"lg"}),t.jsx(r,{flex:"column",gap:"xs",px:"lg",children:jt.map(n=>t.jsxs(_n,{fullWidth:!0,variant:"secondary",onClick:()=>e.onSelect(n),gap:"sm",children:[t.jsx(n.icon,{size:F.lg}),t.jsxs(r,{flex:"column",gap:"xxs",children:[t.jsx(x,{color:"primaryText",children:n.shorthand}),t.jsx(x,{size:"sm",children:n.name})]})]},n.shorthand))}),t.jsx(y,{y:"lg"})]})}const _n=je(M)(()=>{const e=U();return{background:e.colors.tertiaryBg,justifyContent:"flex-start",gap:R.sm,padding:R.sm,"&:hover":{background:e.colors.secondaryButtonBg,transform:"scale(1.01)"},transition:"background 200ms ease, transform 150ms ease"}});function It(e,n){const a=(window.innerHeight-750)/2,u=(window.innerWidth-500)/2;return window.open(`${e}&theme=${n}`,"thirdweb Pay",`width=500, height=750, top=${a}, left=${u}`)}function $n(e){var l,i,h,f;const n=lt(),{openedWindow:o,onSuccess:s}=e,a=Gt({intentId:e.intentId,client:e.client});let u="loading";((l=a.data)==null?void 0:l.status)==="ON_RAMP_TRANSFER_FAILED"||((i=a.data)==null?void 0:i.status)==="PAYMENT_FAILED"?u="failed":((h=a.data)==null?void 0:h.status)==="CRYPTO_SWAP_FALLBACK"?u="partialSuccess":((f=a.data)==null?void 0:f.status)==="ON_RAMP_TRANSFER_COMPLETED"&&(u="completed");const d=b.useRef(!1);b.useEffect(()=>{var m;d.current||!s||((m=a.data)==null?void 0:m.status)==="ON_RAMP_TRANSFER_COMPLETED"&&(d.current=!0,s(a.data))},[s,a.data]),b.useEffect(()=>{var m,j;!o||!a.data||(((m=a.data)==null?void 0:m.status)==="CRYPTO_SWAP_REQUIRED"||((j=a.data)==null?void 0:j.status)==="ON_RAMP_TRANSFER_COMPLETED")&&o.close()},[a.data,o]);const c=b.useRef(!1);return b.useEffect(()=>{var m;!c.current&&((m=a.data)==null?void 0:m.status)==="ON_RAMP_TRANSFER_COMPLETED"&&(c.current=!0,Se(n))},[a.data,n]),b.useEffect(()=>{var m;((m=a.data)==null?void 0:m.status)==="CRYPTO_SWAP_REQUIRED"&&e.onShowSwapFlow(a.data)},[a.data,e.onShowSwapFlow]),t.jsxs(r,{p:"lg",children:[t.jsx(ee,{title:e.title,onBack:e.onBack}),e.hasTwoSteps&&t.jsxs(t.Fragment,{children:[t.jsx(y,{y:"lg"}),t.jsx(gt,{steps:2,currentStep:1}),t.jsx(y,{y:"sm"}),t.jsxs(x,{size:"xs",children:["Step 1 of 2 - Buying ",e.quote.onRampToken.token.symbol," with"," ",e.quote.fromCurrencyWithFees.currencySymbol]})]}),t.jsx(Hn,{uiStatus:u,onDone:e.onDone,fiatStatus:a.data,client:e.client,transactionMode:e.transactionMode,quote:e.quote,isEmbed:e.isEmbed})]})}function Hn(e){const{uiStatus:n}=e,o=e.fiatStatus?Kt(e.fiatStatus):void 0,s=e.fiatStatus&&e.fiatStatus.status!=="NOT_FOUND"?e.fiatStatus:void 0,a=e.quote.onRampToken,u=t.jsx(Yt,{client:e.client,token:s!=null&&s.source?{chainId:s.source.token.chainId,address:s.source.token.tokenAddress,symbol:s.source.token.symbol||"",amount:s.source.amount}:{chainId:a.token.chainId,address:a.token.tokenAddress,symbol:a.token.symbol,amount:a.amount},fiat:{amount:e.quote.fromCurrencyWithFees.amount,currencySymbol:e.quote.fromCurrencyWithFees.currencySymbol},statusMeta:s!=null&&s.source&&o?{color:o==null?void 0:o.color,text:o==null?void 0:o.status,txHash:s.source.transactionHash}:void 0});return t.jsxs(r,{children:[t.jsx(y,{y:"xl"}),n==="loading"&&t.jsxs(t.Fragment,{children:[t.jsx(y,{y:"md"}),t.jsx(r,{flex:"row",center:"x",children:t.jsx(ke,{size:"xxl",color:"accentText"})}),t.jsx(y,{y:"md"}),t.jsx(x,{color:"primaryText",size:"lg",center:!0,children:"Buy Pending"}),t.jsx(y,{y:"sm"}),!Zt()&&t.jsx(x,{center:!0,children:"Complete the purchase in popup"}),t.jsx(y,{y:"xxl"}),u]}),n==="failed"&&t.jsxs(t.Fragment,{children:[t.jsx(y,{y:"md"}),t.jsx(r,{flex:"row",center:"x",children:t.jsx(Jt,{size:F["3xl"]})}),t.jsx(y,{y:"lg"}),t.jsx(x,{color:"primaryText",size:"lg",center:!0,children:"Transaction Failed"}),t.jsx(y,{y:"xxl"}),u]}),n==="completed"&&t.jsxs(t.Fragment,{children:[t.jsx(y,{y:"md"}),t.jsx(r,{flex:"row",center:"x",color:"success",children:t.jsx(kt,{width:F["3xl"],height:F["3xl"]})}),t.jsx(y,{y:"md"}),t.jsx(x,{color:"primaryText",size:"lg",center:!0,children:"Buy Complete"}),e.fiatStatus&&e.fiatStatus.status!=="NOT_FOUND"&&t.jsxs(t.Fragment,{children:[t.jsx(y,{y:"xxl"}),u,t.jsx(y,{y:"sm"})]}),!e.isEmbed&&t.jsx(M,{variant:"accent",fullWidth:!0,onClick:e.onDone,children:e.transactionMode?"Continue Transaction":"Done"})]})]})}function Un(e){const n=At(e.quote),[o,s]=b.useState(n?{id:"step-1"}:{id:"onramp-status"}),[a,u]=b.useState(e.openedWindow),d=b.useCallback(()=>{Xt({intentId:e.quote.intentId,client:e.client}).then(c=>{e.onSuccess(c)})},[e.onSuccess,e.quote.intentId,e.client]);return o.id==="step-1"?t.jsx(en,{title:e.title,client:e.client,onBack:e.onBack,partialQuote:tt(e.quote),step:1,onContinue:()=>{const c=It(e.quote.onRampLink,e.theme);Fe({event:"open_onramp_popup",client:e.client,walletAddress:e.payer.account.address,walletType:e.payer.wallet.id}),wt({type:"fiat",intentId:e.quote.intentId}),u(c),s({id:"onramp-status"})}}):o.id==="onramp-status"?t.jsx($n,{title:e.title,client:e.client,intentId:e.quote.intentId,onBack:e.onBack,hasTwoSteps:n,openedWindow:a,quote:e.quote,onDone:e.onDone,onShowSwapFlow:c=>{s({id:"postonramp-swap",data:c})},transactionMode:e.transactionMode,isEmbed:e.isEmbed,onSuccess:e.onSuccess}):o.id==="postonramp-swap"?t.jsx(tn,{title:e.title,status:o.data,quote:tt(e.quote),client:e.client,onBack:e.onBack,onDone:e.onDone,onSwapFlowStarted:()=>{},transactionMode:e.transactionMode,isEmbed:e.isEmbed,payer:e.payer,onSuccess:d}):null}function Qn(e){const{payOptions:n,supportedDestinations:o,toChain:s,toToken:a}=e;function u(){const h=o.find(j=>j.chain.id===s.id);if(!h)return{fiat:!1,swap:!1};const f=O(a)?q:a.address,m=h.tokens.find(j=>j.address.toLowerCase()===f.toLowerCase());return m?{fiat:m.buyWithFiatEnabled,swap:m.buyWithCryptoEnabled}:{fiat:!0,swap:!0}}const{fiat:d,swap:c}=u(),l=n.buyWithFiat!==!1&&d,i=n.buyWithCrypto!==!1&&c;return{buyWithFiatEnabled:l,buyWithCryptoEnabled:i}}function Vn(e){var j,B,g,S;const{payOptions:n,supportedDestinations:o}=e,s=n==null?void 0:n.prefillBuy,a=bt(),u=(s==null?void 0:s.amount)||"",[d,c]=b.useState(u),l=nn(d,300),[i,h]=b.useState((s==null?void 0:s.chain)||n.mode==="transaction"&&((j=n.transaction)==null?void 0:j.chain)||n.mode==="direct_payment"&&((B=n.paymentInfo)==null?void 0:B.chain)||((g=o.find(C=>C.chain.id===(a==null?void 0:a.id)))==null?void 0:g.chain)||((S=o[0])==null?void 0:S.chain)||Ct),[f,m]=b.useState((s==null?void 0:s.token)||n.mode==="direct_payment"&&n.paymentInfo.token||De);return{toChain:i,setToChain:h,toToken:f,setToToken:m,tokenAmount:d,setTokenAmount:c,deferredTokenAmount:l}}function Gn(e){var B,g,S,C,k,w;const{payOptions:n,supportedSources:o}=e,s=o!=null&&o.length?o[0]:void 0,[a,u]=b.useState(),d=n.buyWithCrypto!==!1&&((g=(B=n.buyWithCrypto)==null?void 0:B.prefillSource)==null?void 0:g.chain)||n.mode==="transaction"&&((S=n.transaction)==null?void 0:S.chain)||n.mode==="direct_payment"&&((C=n.paymentInfo)==null?void 0:C.chain),c=s!=null&&s.chain?s.chain:void 0,l=a||d||c||Ct,[i,h]=b.useState(),f=n.buyWithCrypto!==!1&&((w=(k=n.buyWithCrypto)==null?void 0:k.prefillSource)==null?void 0:w.token)||n.mode==="direct_payment"&&n.paymentInfo.token;return{fromChain:l,setFromChain:u,fromToken:i||f||De,setFromToken:h}}function Kn(e){var d,c;const{payOptions:n}=e,s=(n.buyWithFiat!==!1?(c=(d=n.buyWithFiat)==null?void 0:d.prefillSource)==null?void 0:c.currency:void 0)||Yn(),[a,u]=b.useState(jt.find(l=>l.shorthand===s)||sn);return{selectedCurrency:a,setSelectedCurrency:u}}function Yn(){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone.toLowerCase();return e.includes("london")?"GBP":e.includes("europe")?"EUR":e.includes("japan")?"JPY":e.includes("canada")?"CAD":"USD"}catch{return"USD"}}function Zn(e){return e.length>10?"26px":e.length>6?"34px":"50px"}function Jn(e){const{name:n}=Ie(e.chain),o=()=>{let s=e.value.replace(".","").length;return e.value.includes(".")&&(s+=.3),`calc(${`${Math.max(1,s)}ch`} + 6px)`};return t.jsxs(r,{children:[t.jsx("div",{onClick:s=>{var a;(a=s.currentTarget.querySelector("input"))==null||a.focus()},children:t.jsxs(r,{flex:"row",center:"both",gap:"xs",style:{flexWrap:"nowrap"},children:[t.jsx(an,{variant:"outline",pattern:"^[0-9]*[.,]?[0-9]*$",inputMode:"decimal",tabIndex:-1,placeholder:"0",type:"text","data-placeholder":e.value==="",value:e.value||"0",disabled:e.freezeAmount,onClick:s=>{e.value===""&&s.currentTarget.setSelectionRange(s.currentTarget.value.length,s.currentTarget.value.length)},onChange:s=>{let a=s.target.value;a.startsWith(".")&&(a=`0${a}`);const u=Number(a);Number.isNaN(u)||(a.startsWith("0")&&!a.startsWith("0.")?e.onChange(a.slice(1)):e.onChange(a))},style:{border:"none",fontSize:Zn(e.value),boxShadow:"none",borderRadius:"0",padding:"0",paddingBlock:"2px",fontWeight:600,textAlign:"right",width:o(),maxWidth:"calc(100% - 100px)"}}),t.jsx(Y,{token:e.token,chain:e.chain,size:"lg",color:"secondaryText"})]})}),!e.hideTokenSelector&&t.jsxs(t.Fragment,{children:[t.jsx(y,{y:"sm"}),t.jsx(r,{flex:"row",center:"x",children:t.jsxs(Xn,{variant:"secondary",fullWidth:!0,style:{fontSize:G.sm},gap:"xxs",onClick:e.onSelectToken,disabled:e.freezeChainAndToken,children:[t.jsxs(r,{flex:"row",center:"y",gap:"sm",children:[t.jsx(fe,{token:e.token,chain:e.chain,size:"md",client:e.client}),t.jsxs(r,{flex:"column",style:{gap:"4px"},children:[t.jsx(Y,{token:e.token,chain:e.chain,size:"sm"}),n?t.jsx(x,{size:"xs",color:"secondaryText",children:n}):t.jsx(J,{width:"90px",height:G.xs})]})]}),t.jsx(yt,{width:F.sm,height:F.sm,style:{marginLeft:"auto"}})]})})]})]})}const Xn=je(M)(()=>{const e=U();return{background:e.colors.tertiaryBg,border:`1px solid ${e.colors.borderColor}`,justifyContent:"flex-start",transition:"background 0.3s",padding:R.sm}});function es(e){return t.jsx(r,{flex:"column",gap:"xs",style:{alignItems:"flex-start"},children:e.quote.processingFees.map(n=>{const o=$(Number(n.amount),6);return t.jsxs(r,{flex:"row",gap:"xxs",children:[t.jsxs(x,{color:"primaryText",size:"sm",children:[o===0?"~":"",o," ",n.token.symbol]}),t.jsxs(x,{color:"secondaryText",size:"sm",children:["($",(n.amountUSDCents/100).toFixed(2),")"]})]},`${n.token.chainId}_${n.token.tokenAddress}_${o}`)})})}function ts(e){return t.jsxs(r,{flex:"column",gap:"xs",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(x,{inline:!0,color:"secondaryText",children:"Amount"}),t.jsxs(x,{color:"primaryText",inline:!0,children:[$(Number(e.quote.fromCurrency.amount),2)," ",e.quote.fromCurrency.currencySymbol]})]}),e.quote.processingFees.map((n,o)=>{const s=$(Number(n.amount),6);return t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(x,{inline:!0,color:"secondaryText",children:n.feeType==="NETWORK"?"Network Fee":"Processing Fee"}),t.jsxs(x,{color:"primaryText",inline:!0,children:[s===0?"~":""," ",s," ",n.currencySymbol]})]},o)}),t.jsx(y,{y:"xxs"}),t.jsx(X,{}),t.jsx(y,{y:"xxs"}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(x,{inline:!0,color:"secondaryText",children:"Total"}),t.jsxs(x,{color:"primaryText",inline:!0,children:[$(Number(e.quote.fromCurrencyWithFees.amount),6)," ",e.quote.fromCurrencyWithFees.currencySymbol]})]})]})}function ns(e){const n=U(),{name:o}=Ie(e.chain),s=Re({address:e.payerAccount.address,chain:e.chain,tokenAddress:O(e.token)?void 0:e.token.address,client:e.client});return t.jsxs(r,{bg:"tertiaryBg",style:{borderRadius:K.lg,border:`1px solid ${n.colors.borderColor}`,...e.swapRequired?{borderBottom:"none",borderBottomLeftRadius:0,borderBottomRightRadius:0}:{}},children:[t.jsxs(r,{flex:"row",gap:"sm",style:{justifyContent:"space-between",padding:R.sm,borderBottom:`1px solid ${n.colors.borderColor}`},children:[t.jsx(de,{client:e.client,address:e.payerAccount.address}),s.data?t.jsxs(r,{flex:"row",gap:"3xs",center:"y",children:[t.jsx(x,{size:"xs",color:"secondaryText",weight:500,children:ze(s.data,!1)}),t.jsx(Y,{token:e.token,chain:e.chain,size:"xs",color:"secondaryText"})]}):t.jsx(J,{width:"70px",height:G.xs})]}),t.jsxs(r,{flex:"row",gap:"sm",style:{paddingInline:R.sm,paddingBlock:R.sm,minWidth:"50%",justifyContent:"flex-start",minHeight:"64px"},children:[t.jsx(St,{token:e.token,chain:e.chain,size:"md",client:e.client}),t.jsxs(r,{flex:"column",gap:"3xs",children:[e.isLoading?t.jsx(J,{width:"120px",height:G.md,color:"borderColor"}):t.jsxs(r,{flex:"row",gap:"xxs",center:"y",color:"primaryText",children:[t.jsx(x,{size:"md",color:e.value?"primaryText":"secondaryText",children:$(Number(e.value),6)||""}),t.jsx(Y,{token:e.token,chain:e.chain,size:"sm"})]}),o?t.jsx(x,{size:"xs",children:o}):t.jsx(J,{width:"90px",height:G.xs})]})]})]})}function ss(e){var c,l;const n=U(),o=on(),s=!e.showAllWallets&&((c=e.wallets)==null?void 0:c.every(i=>o.includes(i))),a=We(e.toChain),u=ge(),d=le({queryKey:["wallets-and-balances",o.map(i=>{var h;return(h=i.getAccount())==null?void 0:h.address}),e.sourceSupportedTokens,e.toChain.id,e.toToken,e.tokenAmount,e.mode,u==null?void 0:u.address],queryFn:async()=>{const i=new Map,h=o.flatMap(f=>{var g,S,C,k,w;const m=f.getAccount();if(!m)return[];i.set(f,[]);const j=O(e.toToken)?{address:q,name:((g=a.data)==null?void 0:g.nativeCurrency.name)||"",symbol:((S=a.data)==null?void 0:S.nativeCurrency.symbol)||"",icon:(k=(C=a.data)==null?void 0:C.icon)==null?void 0:k.url}:e.toToken,B={...e.sourceSupportedTokens,[e.toChain.id]:[j,...((w=e.sourceSupportedTokens)==null?void 0:w[e.toChain.id])||[]]};return Object.entries(B).flatMap(([I,E])=>E.map(async T=>{try{const v=be(Number(I)),A=await Ae({address:m.address,chain:v,tokenAddress:O(T)?void 0:T.address,client:e.client});if(T.address===j.address&&v.id===e.toChain.id?e.mode==="fund_wallet"&&m.address===(u==null?void 0:u.address)?!1:Number(A.displayValue)>Number(e.tokenAmount):A.value>0n){const L=i.get(f)||[];L.push({balance:A,chain:v,token:T}),L.sort((N,H)=>N.chain.id===e.toChain.id&&N.token.address===j.address?-1:H.chain.id===e.toChain.id&&H.token.address===j.address?1:N.chain.id===e.toChain.id?-1:H.chain.id===e.toChain.id||N.chain.id>H.chain.id?1:-1)}}catch(v){console.error(`Failed to fetch balance for wallet ${f.id} on chain ${I} for token ${T.symbol}:`,v)}}))});return await Promise.all(h),i},enabled:!!e.sourceSupportedTokens&&!!a.data});return d.isLoading||!d.data?t.jsx(ce,{}):t.jsxs(r,{children:[t.jsxs(r,{flex:"column",gap:"xs",children:[Array.from(((l=d.data)==null?void 0:l.entries())||[]).filter(([i])=>{var h;return!((h=e.hiddenWallets)!=null&&h.includes(i.id))}).map(([i,h])=>{var m;const f=(m=i.getAccount())==null?void 0:m.address;return f?t.jsx(Pn,{wallet:i,balances:h,client:e.client,address:f,onClick:e.onSelect},i.id):null}),!s&&t.jsx(M,{variant:"secondary",fullWidth:!0,onClick:e.onConnect,gap:"xs",bg:"tertiaryBg",style:{borderRadius:K.lg,border:`1px solid ${n.colors.borderColor}`,padding:R.sm},children:t.jsxs(r,{flex:"row",gap:"sm",center:"y",expand:!0,color:"secondaryIconColor",children:[t.jsx(rn,{size:F.md}),t.jsx(x,{size:"sm",color:"primaryText",children:"Pay with another wallet"})]})}),e.payWithFiatEnabled&&t.jsx(M,{variant:"secondary",fullWidth:!0,gap:"xs",bg:"tertiaryBg",onClick:e.onSelectFiat,style:{borderRadius:K.lg,border:`1px solid ${n.colors.borderColor}`,padding:R.sm},children:t.jsxs(r,{flex:"row",gap:"sm",center:"y",expand:!0,color:"secondaryIconColor",children:[t.jsx(cn,{style:{width:F.md,height:F.md}}),t.jsx(x,{size:"sm",color:"primaryText",children:"Pay with credit card"})]})})]}),t.jsx(y,{y:"sm"})]})}function as(e){const{title:n,onBack:o,receiverAddress:s,client:a,payer:u,onDone:d,chain:c,token:l,tokenAmount:i,transactionMode:h,setTransactionHash:f,payOptions:m}=e,[j,B]=b.useState("transfer"),[g,S]=b.useState({id:"idle"}),{symbol:C}=dn(c);return t.jsxs(r,{p:"lg",children:[t.jsx(ee,{title:n,onBack:o}),t.jsx(y,{y:"xl"}),h&&t.jsxs(t.Fragment,{children:[t.jsx(gt,{steps:2,currentStep:j==="transfer"?1:2}),t.jsx(y,{y:"sm"}),t.jsx(x,{size:"sm",children:j==="transfer"?"Step 1 of 2 - Transfer funds":"Step 2 of 2 - Finalize transaction"}),t.jsx(y,{y:"xl"})]}),t.jsxs(r,{flex:"row",center:"y",style:{justifyContent:"space-between"},children:[t.jsx(x,{size:"sm",children:"From"}),t.jsx(de,{address:u.account.address,client:a})]}),t.jsx(y,{y:"md"}),t.jsx(X,{}),t.jsx(y,{y:"md"}),t.jsxs(r,{flex:"row",center:"y",style:{justifyContent:"space-between"},children:[t.jsx(x,{size:"sm",children:"To"}),t.jsx(de,{address:s,client:a})]}),t.jsx(y,{y:"md"}),t.jsx(X,{}),t.jsx(y,{y:"md"}),t.jsx(ln,{chainId:c.id,client:a,label:"Amount",tokenAmount:i,tokenSymbol:O(l)?C||"":l.symbol,tokenAddress:O(l)?q:l.address}),t.jsx(y,{y:"lg"}),h&&t.jsxs(t.Fragment,{children:[t.jsx(y,{y:"sm"}),t.jsxs(r,{gap:"sm",flex:"row",style:{justifyContent:"space-between"},center:"y",color:"accentText",children:[t.jsx(nt,{isDone:j==="execute",isActive:j==="transfer",label:j==="transfer"?"Transfer":"Done"}),t.jsx(un,{}),t.jsx(nt,{isDone:!1,label:"Finalize",isActive:j==="execute"})]}),t.jsx(y,{y:"lg"})]}),g.id==="error"&&t.jsxs(t.Fragment,{children:[t.jsx(r,{flex:"row",gap:"xs",center:"both",color:"danger",children:t.jsx(x,{color:"danger",size:"sm",style:{textAlign:"center"},children:j==="transfer"?`${g.error||"Failed to Transfer"}`:"Failed to Execute"})}),t.jsx(y,{y:"md"})]}),!h&&j==="execute"&&g.id==="done"&&t.jsxs(t.Fragment,{children:[t.jsxs(r,{flex:"row",gap:"xs",center:"both",color:"success",children:[t.jsx(kt,{width:F.sm,height:F.sm}),t.jsx(x,{color:"success",size:"sm",children:"Payment completed"})]}),t.jsx(y,{y:"md"})]}),u.chain.id!==c.id?t.jsx(Tt,{fullWidth:!0,variant:"accent",switchChain:async()=>{await e.payer.wallet.switchChain(c)}}):t.jsxs(M,{variant:"accent",fullWidth:!0,disabled:g.id==="pending",onClick:async()=>{var k;if(j==="execute"){d();return}try{if(S({id:"pending"}),h){const w=O(l)?Tn({client:a,chain:c,to:s,value:An(i)}):hn({contract:ye({address:l.address,chain:c,client:a}),to:s,amount:i});await ot({account:e.payer.account,transaction:w}),B("execute"),S({id:"idle"})}else{const w=await Wn({client:a,fromAddress:u.account.address,toAddress:s,chainId:c.id,tokenAddress:O(l)?q:l.address,amount:i,purchaseData:m==null?void 0:m.purchaseData});w.approval&&(B("approve"),await ot({account:e.payer.account,transaction:w.approval})),B("transfer");const I=w.transactionRequest,E=await ut({account:e.payer.account,transaction:I});f(E.transactionHash),S({id:"idle"})}}catch(w){console.error(w),S({id:"error",error:"error"in w?(k=w.error)==null?void 0:k.message:w==null?void 0:w.message})}},gap:"xs",children:[j==="execute"&&(g.id==="done"?"Done":"Continue"),j==="transfer"&&(g.id==="pending"?"Confirming":"Confirm"),j==="approve"&&(g.id==="pending"?"Approving":"Approve"),g.id==="pending"&&t.jsx(ke,{size:"sm",color:"accentButtonText"})]})]})}function os(e){const[n,o]=b.useState();return n?t.jsx(mn,{title:e.title,onBack:e.onBack,onTryAgain:e.onTryAgain,swapTxHash:n,client:e.client,onDone:e.onDone,transactionMode:!1,isEmbed:e.isEmbed,quote:void 0,onSuccess:e.onSuccess}):t.jsx(as,{...e,setTransactionHash:o})}function is(){const e=Be(),n=ge(),o=bt(),[s,a]=b.useState();return b.useEffect(()=>{const c=s==null?void 0:s.wallet;function l(){if(!c){a(void 0);return}const i=c.getAccount(),h=c.getChain();a(i&&h?{account:i,chain:h,wallet:c}:void 0)}if(c){const i=c.subscribe("chainChanged",l),h=c.subscribe("accountChanged",l);return()=>{i(),h()}}},[s]),{payer:s||(n&&o&&e?{account:n,chain:o,wallet:e}:void 0),setPayer:a}}function Cs(e){const n=e.payOptions.buyWithCrypto?e.payOptions.buyWithCrypto.testMode:void 0,o=xn(e.client,n);return o.isError?t.jsx(r,{style:{minHeight:"350px"},fullHeight:!0,flex:"row",center:"both",children:t.jsx(ft,{title:"Something went wrong",onTryAgain:o.refetch})}):o.data?t.jsx(rs,{...e,supportedDestinations:o.data}):t.jsx(ce,{})}function rs(e){var ne,se,ae,oe,ie,V,he,we,me,Oe,pe,Pe,Me,Le,qe,Ne,_e,$e,He,Ue,Qe,Ve,Ge,Ke,Ye,Ze,Je,Xe;const{client:n,supportedDestinations:o,connectLocale:s,payOptions:a}=e,u=ge(),{payer:d,setPayer:c}=is(),[l,i]=b.useState({id:"main"}),{tokenAmount:h,setTokenAmount:f,toChain:m,setToChain:j,deferredTokenAmount:B,toToken:g,setToToken:S}=Vn({payOptions:a,supportedDestinations:o}),[C,k]=b.useState(!1),w=b.useCallback(()=>{i({id:"main"}),e.onDone()},[e.onDone]),I=yn({client:e.client,destinationChainId:m.id,destinationTokenAddress:O(g)?q:g.address}),E=b.useMemo(()=>it(o,a,e.supportedTokens),[e.supportedTokens,o,a]),T=b.useMemo(()=>{if(!I.data)return;const z=I.data;return it(z,a,e.supportedTokens)},[e.supportedTokens,I.data,a]),{fromChain:v,setFromChain:A,fromToken:p,setFromToken:L}=Gn({payOptions:a,supportedSources:I.data||[]}),{selectedCurrency:N,setSelectedCurrency:H}=Kn({payOptions:a}),_=Qn({payOptions:e.payOptions,supportedDestinations:e.supportedDestinations,toChain:m,toToken:g}),P=_.buyWithCryptoEnabled===!1&&_.buyWithFiatEnabled===!1,Z=lt(),te=b.useCallback(z=>{var D,W;(W=(D=e.payOptions).onPurchaseSuccess)==null||W.call(D,{type:"crypto",status:z}),Se(Z)},[e.payOptions.onPurchaseSuccess,Z]),ue=b.useCallback(z=>{var D,W;(W=(D=e.payOptions).onPurchaseSuccess)==null||W.call(D,{type:"fiat",status:z}),Se(Z)},[e.payOptions.onPurchaseSuccess,Z]);if(l.id==="connect-payer-wallet")return t.jsx(fn,{accountAbstraction:(ne=e.connectOptions)==null?void 0:ne.accountAbstraction,appMetadata:(se=e.connectOptions)==null?void 0:se.appMetadata,chain:(ae=e.connectOptions)==null?void 0:ae.chain,chains:(oe=e.connectOptions)==null?void 0:oe.chains,client:e.client,connectLocale:e.connectLocale,isEmbed:e.isEmbed,onBack:()=>i(l.backScreen),onSelect:z=>{const D=z.getAccount(),W=z.getChain();z&&D&&W&&c({account:D,chain:W,wallet:z})},hiddenWallets:e.hiddenWallets,recommendedWallets:(ie=e.connectOptions)==null?void 0:ie.recommendedWallets,showAllWallets:((V=e.connectOptions)==null?void 0:V.showAllWallets)===void 0?!0:(he=e.connectOptions)==null?void 0:he.showAllWallets,walletConnect:(we=e.connectOptions)==null?void 0:we.walletConnect,wallets:(Oe=(me=e.connectOptions)==null?void 0:me.wallets)==null?void 0:Oe.filter(z=>z.id!=="inApp")});if(l.id==="swap-flow"&&d)return t.jsx(jn,{title:e.title,transactionMode:a.mode==="transaction",isEmbed:e.isEmbed,client:n,onBack:()=>{i({id:"buy-with-crypto"})},buyWithCryptoQuote:l.quote,payer:d,isFiatFlow:!1,onDone:w,onTryAgain:()=>{i({id:"buy-with-crypto"})},onSuccess:te});if(l.id==="fiat-flow"&&d)return t.jsx(Un,{title:e.title,transactionMode:a.mode==="transaction",quote:l.quote,onBack:()=>{i({id:"buy-with-fiat"})},client:n,testMode:e.payOptions.buyWithFiat!==!1&&((pe=e.payOptions.buyWithFiat)==null?void 0:pe.testMode)===!0,theme:typeof e.theme=="string"?e.theme:e.theme.type,openedWindow:l.openedWindow,onDone:w,isEmbed:e.isEmbed,payer:d,onSuccess:ue});if(l.id==="transfer-flow"&&d&&u){const z=()=>i({id:"buy-with-crypto"}),W=((Me=(Pe=e.payOptions)==null?void 0:Pe.paymentInfo)==null?void 0:Me.sellerAddress)||u.address;return t.jsx(os,{title:e.title,onBack:z,payer:d,client:e.client,chain:m,token:g,tokenAmount:h,receiverAddress:W,transactionMode:e.payOptions.mode==="transaction",payOptions:a,isEmbed:e.isEmbed,onDone:w,onTryAgain:()=>{i({id:"buy-with-crypto"})},onSuccess:te})}if(l.id==="select-currency"){const z=()=>i(l.backScreen);return t.jsx(Nn,{onSelect:D=>{z(),H(D)},onBack:z})}if(l.id==="select-to-token"){const z=o.map(Q=>Q.chain),D=()=>i(l.backScreen),W=(Le=a==null?void 0:a.prefillBuy)==null?void 0:Le.allowEdits;return(W==null?void 0:W.token)===!1?t.jsx(rt,{chains:z,client:e.client,connectLocale:e.connectLocale,setChain:j,goBack:D}):t.jsx(st,{onBack:D,tokenList:((m!=null&&m.id?E[m.id]:void 0)||[]).filter(Q=>Q.address!==q),onTokenSelect:Q=>{S(Q),D()},chain:m,chainSelection:(W==null?void 0:W.chain)!==!1?{chains:z,select:Q=>{j(Q)}}:void 0,connectLocale:s,client:n,modalTitle:e.title})}if(l.id==="select-from-token"&&I.data&&T){const z=I.data.map(W=>W.chain),D=()=>i(l.backScreen);return a.buyWithCrypto!==!1&&((_e=(Ne=(qe=a.buyWithCrypto)==null?void 0:qe.prefillSource)==null?void 0:Ne.allowEdits)==null?void 0:_e.token)===!1?t.jsx(rt,{chains:z,client:e.client,connectLocale:e.connectLocale,setChain:A,goBack:D}):t.jsx(st,{onBack:D,tokenList:((v!=null&&v.id?T[v.id]:void 0)||[]).filter(W=>W.address!==q),onTokenSelect:W=>{L(W),D()},chain:v,chainSelection:a.buyWithCrypto!==!1&&((Ue=(He=($e=a.buyWithCrypto)==null?void 0:$e.prefillSource)==null?void 0:He.allowEdits)==null?void 0:Ue.chain)!==!1?{chains:I.data.map(W=>W.chain),select:W=>A(W)}:void 0,connectLocale:s,client:n,modalTitle:"Pay with"})}return t.jsx(r,{animate:"fadein",children:t.jsxs("div",{children:[l.id==="main"&&t.jsx(ds,{title:e.title,payerAccount:d==null?void 0:d.account,client:n,onSelectBuyToken:()=>i({id:"select-to-token",backScreen:l}),payOptions:a,setTokenAmount:f,setToChain:j,setToToken:S,setFromChain:A,setFromToken:L,toChain:m,toToken:g,tokenAmount:h,connectOptions:e.connectOptions,setScreen:i,supportedDestinations:o,onBack:e.onBack,theme:e.theme,hasEditedAmount:C,setHasEditedAmount:k,enabledPaymentMethods:_}),(l.id==="select-payment-method"||l.id==="buy-with-crypto"||l.id==="buy-with-fiat")&&d&&t.jsxs(ls,{title:e.title,selectedChain:m,selectedToken:g,tokenAmount:h,client:n,onBack:()=>{_.buyWithCryptoEnabled&&l.id==="buy-with-fiat"?i({id:"select-payment-method"}):l.id==="buy-with-crypto"?i({id:"select-payment-method"}):i({id:"main"})},children:[l.id==="select-payment-method"&&t.jsx(ss,{client:n,mode:a.mode,sourceSupportedTokens:T,hiddenWallets:e.hiddenWallets,payWithFiatEnabled:e.payOptions.buyWithFiat!==!1,toChain:m,toToken:g,tokenAmount:h,onSelect:(z,D,W)=>{const Q=z.getAccount();Q&&(c({account:Q,chain:W,wallet:z}),L(D),A(W),i({id:"buy-with-crypto"}))},onSelectFiat:()=>{i({id:"buy-with-fiat"})},showAllWallets:!!((Qe=e.connectOptions)!=null&&Qe.showAllWallets),wallets:(Ve=e.connectOptions)==null?void 0:Ve.wallets,onBack:()=>{},onConnect:()=>{i({id:"connect-payer-wallet",backScreen:{id:"select-payment-method"}})}}),l.id==="buy-with-crypto"&&u&&t.jsx(us,{setScreen:i,tokenAmount:B,toChain:m,toToken:g,fromChain:v,fromToken:p,showFromTokenSelector:()=>{i({id:"select-from-token",backScreen:l})},payer:d,client:n,isEmbed:e.isEmbed,onDone:w,payOptions:a,connectLocale:s,connectOptions:e.connectOptions,setPayer:c,activeAccount:u,setTokenAmount:f,setHasEditedAmount:k,disableTokenSelection:P===!0||a.buyWithCrypto!==!1&&((Ye=(Ke=(Ge=a.buyWithCrypto)==null?void 0:Ge.prefillSource)==null?void 0:Ke.allowEdits)==null?void 0:Ye.chain)===!1&&((Xe=(Je=(Ze=a.buyWithCrypto)==null?void 0:Ze.prefillSource)==null?void 0:Je.allowEdits)==null?void 0:Xe.token)===!1}),l.id==="buy-with-fiat"&&t.jsx(hs,{setScreen:i,tokenAmount:B,toChain:m,toToken:g,selectedCurrency:N,client:n,isEmbed:e.isEmbed,onDone:w,payOptions:a,theme:e.theme,showCurrencySelector:()=>{i({id:"select-currency",backScreen:l})},payer:d,setTokenAmount:f,setHasEditedAmount:k})]})]})})}function cs(e){return t.jsx("div",{children:t.jsxs(r,{flex:"row",gap:"sm",center:"y",style:{justifyContent:"space-between"},children:[t.jsxs(r,{flex:"row",gap:"xs",center:"y",children:[t.jsx(x,{color:"primaryText","data-testid":"tokenAmount",size:"xl",children:$(Number(e.tokenAmount),6)}),t.jsxs(r,{flex:"row",gap:"xxs",center:"y",children:[t.jsx(Y,{token:e.selectedToken,chain:e.selectedChain,size:"md",color:"secondaryText"}),t.jsx(St,{chain:e.selectedChain,client:e.client,size:"sm",token:e.selectedToken})]})]}),t.jsx(wn,{chain:e.selectedChain,client:e.client,size:"sm",short:!0})]})})}function ds(e){var C,k,w,I,E,T;const{setTokenAmount:n,setToChain:o,setToToken:s,setFromChain:a,setFromToken:u,payerAccount:d,client:c,tokenAmount:l,payOptions:i,toToken:h,toChain:f,supportedDestinations:m,enabledPaymentMethods:j}=e,{buyWithCryptoEnabled:B,buyWithFiatEnabled:g}=j,S=!l;switch(i.mode){case"transaction":return t.jsx(qn,{supportedDestinations:m,payUiOptions:i,payerAccount:d,connectOptions:e.connectOptions,client:c,onContinue:(v,A,p)=>{n(v),o(A),a(A),u(p),s(p),g&&!B?e.setScreen({id:"buy-with-fiat"}):e.setScreen({id:"select-payment-method"})}});case"direct_payment":return t.jsx(Rn,{client:c,payUiOptions:i,payerAccount:d,connectOptions:e.connectOptions,supportedDestinations:m,onContinue:(v,A,p)=>{n(v),o(A),a(A),u(p),s(p),g&&!B?e.setScreen({id:"buy-with-fiat"}):e.setScreen({id:"select-payment-method"})}});default:return t.jsxs(r,{p:"lg",children:[t.jsx(ee,{title:e.title,onBack:e.onBack}),t.jsx(y,{y:"xl"}),t.jsx(Jn,{value:l,onChange:async v=>{e.setHasEditedAmount(!0),n(v)},freezeAmount:((k=(C=i.prefillBuy)==null?void 0:C.allowEdits)==null?void 0:k.amount)===!1,freezeChainAndToken:((I=(w=i.prefillBuy)==null?void 0:w.allowEdits)==null?void 0:I.chain)===!1&&((T=(E=i.prefillBuy)==null?void 0:E.allowEdits)==null?void 0:T.token)===!1,token:h,chain:f,onSelectToken:e.onSelectBuyToken,client:e.client}),t.jsx(y,{y:"xl"}),t.jsx(r,{flex:"column",gap:"sm",children:d?t.jsx(M,{variant:"accent",fullWidth:!0,disabled:S,"data-disabled":S,onClick:()=>{g&&!B?e.setScreen({id:"buy-with-fiat"}):e.setScreen({id:"select-payment-method"})},children:"Continue"}):t.jsx("div",{children:t.jsx(Ee,{...e.connectOptions,client:e.client,theme:e.theme,connectButton:{style:{width:"100%"}}})})})]})}}function ls(e){return t.jsxs(r,{children:[t.jsx(r,{p:"lg",children:t.jsx(ee,{title:e.title,onBack:e.onBack})}),t.jsxs(r,{px:"lg",style:{paddingBottom:R.lg},children:[t.jsx(y,{y:"xs"}),t.jsx(cs,{selectedToken:e.selectedToken,selectedChain:e.selectedChain,tokenAmount:e.tokenAmount,client:e.client}),t.jsx(y,{y:"md"}),t.jsx(X,{}),t.jsx(y,{y:"lg"}),t.jsx(x,{size:"sm",children:" Pay with "}),t.jsx(y,{y:"sm"}),e.children]})]})}function us(e){var ue,ne,se,ae,oe,ie;const{setScreen:n,payer:o,client:s,toChain:a,tokenAmount:u,toToken:d,fromChain:c,fromToken:l,payOptions:i,disableTokenSelection:h}=e,m=((ne=(ue=e.payOptions)==null?void 0:ue.paymentInfo)==null?void 0:ne.sellerAddress)||e.activeAccount.address,{drawerRef:j,drawerOverlayRef:B,isOpen:g,setIsOpen:S}=vt(),[C,k]=b.useState("fees"),w=Re({address:o.account.address,chain:c,tokenAddress:O(l)?void 0:l.address,client:s}),I=O(l)?q:l.address.toLowerCase(),E=O(d)?q:d.address.toLowerCase(),T=!!u&&!(c.id===a.id&&I===E),v=T?{fromAddress:o.account.address,toAddress:m,fromChainId:c.id,fromTokenAddress:O(l)?q:l.address,toChainId:a.id,toTokenAddress:O(d)?q:d.address,toAmount:u,client:s,purchaseData:i.purchaseData}:void 0,A=Fn(v,{staleTime:30*1e3,refetchInterval:30*1e3,gcTime:30*1e3}),p=T?(se=A.data)==null?void 0:se.swapDetails.fromAmount:u,L=!!p&&!!w.data&&Number(w.data.displayValue)<Number(p),N=T&&!A.data||L,H=((ae=e.payer.wallet.getChain())==null?void 0:ae.id)!==c.id;function _(V){const he="Unable to get price quote";try{if(V.error.code==="MINIMUM_PURCHASE_AMOUNT"){const me=V.error.data.minimumAmountEth;return{minAmount:$(Number(me),6)}}}catch{}return{msg:[he]}}const P=!A.isLoading&&A.error?_(A.error):void 0;function Z(){if((e.payOptions.mode==="direct_payment"||e.payOptions.mode==="fund_wallet")&&!L&&!T)n({id:"transfer-flow"});else if(e.payOptions.mode==="transaction"&&!L&&!T){o.account.address!==m?n({id:"transfer-flow"}):e.onDone();return}A.data&&n({id:"swap-flow",quote:A.data})}function te(){A.data&&(S(!0),k("fees"))}return t.jsxs(r,{flex:"column",gap:"md",animate:"fadein",children:[g&&t.jsxs(t.Fragment,{children:[t.jsx(Wt,{ref:B}),t.jsx(Bt,{ref:j,close:()=>S(!1),children:C==="fees"&&A.data&&t.jsxs("div",{children:[t.jsx(x,{size:"lg",color:"primaryText",children:"Fees"}),t.jsx(y,{y:"lg"}),t.jsx(es,{quote:A.data})]})})]}),t.jsxs("div",{children:[t.jsx(ns,{value:p||"",chain:c,token:l,isLoading:A.isLoading&&!p,client:s,freezeChainAndTokenSelection:h,payerAccount:e.payer.account,swapRequired:T}),T&&t.jsx(Ft,{quoteIsLoading:A.isLoading,estimatedSeconds:(oe=A.data)==null?void 0:oe.swapDetails.estimated.durationSeconds,onViewFees:te}),t.jsx(y,{y:"md"})]}),P&&t.jsxs("div",{children:[P.minAmount&&t.jsxs(x,{color:"danger",size:"sm",center:!0,multiline:!0,children:["Minimum amount is ",P.minAmount," ",t.jsx(Y,{token:d,chain:a,size:"sm",inline:!0,color:"danger"})]}),(ie=P.msg)==null?void 0:ie.map(V=>t.jsx(x,{color:"danger",size:"sm",center:!0,multiline:!0,children:V},V))]}),!P&&L&&t.jsxs("div",{children:[t.jsx(x,{color:"danger",size:"sm",center:!0,multiline:!0,children:"Not enough funds."}),t.jsx(x,{color:"danger",size:"sm",center:!0,multiline:!0,children:"Try a different wallet or token."})]}),P!=null&&P.minAmount?t.jsx(M,{variant:"accent",fullWidth:!0,onClick:()=>{e.setTokenAmount(String(P.minAmount)),e.setHasEditedAmount(!0)},children:"Set Minimum"}):H&&!A.isLoading&&!L&&!A.error?t.jsx(Tt,{variant:"accent",fullWidth:!0,switchChain:async()=>{await e.payer.wallet.switchChain(c)}}):t.jsx(M,{variant:N?"outline":"accent",fullWidth:!0,"data-disabled":N,disabled:N,onClick:async()=>{N||Z()},gap:"xs",children:A.isLoading?t.jsxs(t.Fragment,{children:["Getting price quote",t.jsx(ke,{size:"sm",color:"accentText"})]}):"Continue"})]})}function hs(e){var A,p,L,N,H;const{toToken:n,tokenAmount:o,payer:s,client:a,setScreen:u,toChain:d,showCurrencySelector:c,selectedCurrency:l}=e,h=((p=(A=e.payOptions)==null?void 0:A.paymentInfo)==null?void 0:p.sellerAddress)||e.payer.account.address,{drawerRef:f,drawerOverlayRef:m,isOpen:j,setIsOpen:B}=vt(),[g,S]=b.useState("fees"),C=e.payOptions.buyWithFiat,k=En(C!==!1&&o?{fromCurrencySymbol:l.shorthand,toChainId:d.id,toAddress:h,toTokenAddress:O(n)?q:n.address,toAmount:o,client:a,isTestMode:C==null?void 0:C.testMode,purchaseData:e.payOptions.purchaseData,fromAddress:s.account.address,preferredProvider:C==null?void 0:C.preferredProvider}:void 0);function w(){if(!k.data)return;const _=At(k.data);let P=null;_||(P=It(k.data.onRampLink,typeof e.theme=="string"?e.theme:e.theme.type),wt({type:"fiat",intentId:k.data.intentId})),u({id:"fiat-flow",quote:k.data,openedWindow:P})}function I(){k.data&&(S("fees"),B(!0))}function E(_){const P="Unable to get price quote";try{if(_.error.code==="MINIMUM_PURCHASE_AMOUNT"){const te=_.error.data.minimumAmountEth;return{minAmount:$(Number(te),6)}}}catch{}return{msg:[P]}}const T=!k.data,v=!k.isLoading&&k.error?E(k.error):void 0;return t.jsxs(r,{flex:"column",gap:"md",animate:"fadein",children:[j&&t.jsxs(t.Fragment,{children:[t.jsx(Wt,{ref:m}),t.jsx(Bt,{ref:f,close:()=>B(!1),children:g==="fees"&&k.data&&t.jsxs("div",{children:[t.jsx(x,{size:"lg",color:"primaryText",children:"Fees"}),t.jsx(y,{y:"lg"}),t.jsx(ts,{quote:k.data})]})})]}),t.jsxs("div",{children:[t.jsx(On,{isLoading:k.isLoading,value:(L=k.data)==null?void 0:L.fromCurrencyWithFees.amount,client:a,currency:l,onSelectCurrency:c}),t.jsx(Ft,{quoteIsLoading:k.isLoading,estimatedSeconds:(N=k.data)==null?void 0:N.estimatedDurationSeconds,onViewFees:I}),t.jsx(y,{y:"md"})]}),v&&t.jsxs("div",{children:[v.minAmount&&t.jsxs(x,{color:"danger",size:"sm",center:!0,multiline:!0,children:["Minimum amount is ",v.minAmount," ",t.jsx(Y,{token:n,chain:d,size:"sm",inline:!0,color:"danger"})]}),(H=v.msg)==null?void 0:H.map(_=>t.jsx(x,{color:"danger",size:"sm",center:!0,multiline:!0,children:_},_))]}),v!=null&&v.minAmount?t.jsx(M,{variant:"accent",fullWidth:!0,onClick:()=>{e.setTokenAmount(String(v.minAmount)),e.setHasEditedAmount(!0)},children:"Set Minimum"}):t.jsx(M,{variant:T?"outline":"accent","data-disabled":T,disabled:T,fullWidth:!0,onClick:w,gap:"xs",children:k.isLoading?t.jsxs(t.Fragment,{children:["Getting price quote",t.jsx(ke,{size:"sm",color:"accentText"})]}):"Continue"})]})}function it(e,n,o){const s={},a=n.buyWithFiat===!1,u=n.buyWithCrypto===!1;for(const d of e)s[d.chain.id]=d.tokens.filter(c=>c.buyWithCryptoEnabled===void 0&&c.buyWithFiatEnabled===void 0||c.buyWithCryptoEnabled&&c.buyWithFiatEnabled?!0:!(!c.buyWithCryptoEnabled&&a||!c.buyWithFiatEnabled&&u));if(o)for(const d in o){const c=Number(d),l=o[c];l&&(s[c]=l)}return s}function rt(e){return t.jsx(gn,{client:e.client,connectLocale:e.connectLocale,showTabs:!1,onBack:e.goBack,chains:e.chains,closeModal:e.goBack,networkSelector:{renderChain(n){return t.jsx(kn,{chain:n.chain,confirming:!1,switchingFailed:!1,onClick:()=>{e.setChain(n.chain),e.goBack()},client:e.client,connectLocale:e.connectLocale})}}})}export{Cs as default};
