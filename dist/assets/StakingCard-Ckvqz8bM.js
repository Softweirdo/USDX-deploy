import{r as l,j as e,bq as Y,br as f}from"./index-ByZbI_fy.js";import{s as P,f as z}from"./Staking-CMroHvZL.js";import"./allowance-BiTUCTep.js";import"./TypedData-83NDyVOY.js";import"./Address-DpgptkQJ.js";import"./arweave-CAGvOb64.js";const B=({targetDate:o})=>{const d=()=>{const n=new Date,s=new Date(o)-n;if(s>0){const y=Math.floor(s/864e5),u=Math.floor(s/(1e3*60*60)%24),c=Math.floor(s/(1e3*60)%60),j=Math.floor(s/1e3%60);return{days:y,hours:u,minutes:c,seconds:j}}return null},[r,m]=l.useState(d());return l.useEffect(()=>{const n=setInterval(()=>{m(d())},1e3);return()=>clearInterval(n)},[o]),r?e.jsx("div",{children:e.jsxs("div",{className:"w-full bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[r.days,"d ",r.hours,"h ",r.minutes,"m"," ",r.seconds,"s"]})}):e.jsx("div",{children:"Claim Rewards"})};function L({activePool:o,onPoolChange:d,onDeposit:r,userSelectedBalance:m,tokenAddress:n,userStakingList:s,handelStakingSelect:y,selectedStaking:u,userPending:c,handleClaimTokens:j,handlewithdrawTokens:I,setTokenAddress:X,fetchLpDetails:U}){var D,A,T,E,M;console.log("%c Line:28 ðŸ– userStakingList","color:#f5ce50",new Date(Number(((D=s[0])==null?void 0:D.cliffTime)+((A=s[0])==null?void 0:A.depositTime))*1e3).toDateString(),new Date(Number((T=s[0])==null?void 0:T.depositTime)*1e3).toDateString());const[i,w]=l.useState(""),[C,x]=l.useState(!1),[h,S]=l.useState(!1),[p,G]=l.useState("partial"),[g,N]=l.useState(""),v=[{id:"1",name:"6 Months",apy:"24% APY",icon:f,description:"6 months lock period",minStake:"500",lockPeriod:"6 months"},{id:"2",name:"1 Year",apy:"36% APY",icon:f,description:"1 year lock period",minStake:"1000",lockPeriod:"12 months"},{id:"3",name:"3 Years",apy:"48% APY",icon:f,description:"3 years lock period",minStake:"2500",lockPeriod:"36 months"},{id:"4",name:"5 Years",apy:"60% APY",icon:f,description:"5 years lock period",minStake:"5000",lockPeriod:"60 months"}],k=v.find(t=>t.id===o)||v[0];i&&((t,a)=>{const R=t*(a/100)/365,F=R*30,W=t*(a/100);return{daily:R,monthly:F,yearly:W}})(Number(i),Number(k.apy.replace("%","")));const b=156.75,O=async()=>{x(!0);try{await r(i),w(""),U()}catch(t){console.error("Error depositing tokens:",t)}finally{x(!1)}},$=async()=>{x(!0);try{await I(g),N("")}catch(t){console.error("Error withdrawing tokens:",t)}finally{x(!1)}},q=async()=>{S(!0);try{await j()}catch(t){console.error("Error claiming dividends:",t)}finally{S(!1)}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:v.map(t=>{const a=t.icon;return e.jsx("button",{onClick:()=>d(t.id),className:`p-4 rounded-lg border-2 transition-all ${o===t.id?"border-[#066fd2] bg-blue-50":"border-gray-200 hover:border-[#066fd2]"}`,children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(a,{className:"w-6 h-6 text-[#066fd2] mb-2"}),e.jsx("span",{className:"font-semibold text-sm",children:t.name}),e.jsx("span",{className:"text-lg font-bold text-[#066fd2]",children:t.apy}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:t.description})]})},t.id)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stake USDX"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center w-full py-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stake Amount"}),e.jsx("div",{children:e.jsx("select",{className:"w-full p-1 text-sm text-gray-600 rounded-lg border border-gray-300",onChange:t=>{console.log(t.target.value),X(t.target.value)},value:n,children:P.length>0&&P.map((t,a)=>e.jsxs("option",{value:t==null?void 0:t.name,children:[t==null?void 0:t.name," "]},a))})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:i,onChange:t=>w(t.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300",placeholder:"Enter amount to stake"}),e.jsx("button",{className:"absolute right-2 top-2 px-3 py-1 bg-gray-100 rounded text-sm text-gray-600 hover:bg-gray-200",onClick:()=>w(m),children:"MAX"})]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["Minimum Stake: ",k.minStake," ",n]}),e.jsxs("span",{children:["Balance: ",(+m).toFixed(3)," ",n]})]}),e.jsx("button",{onClick:O,disabled:C||!i||Number(i)<Number(k.minStake.split(" ")[0]),className:"w-full py-3 px-4 bg-[#066fd2] text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Staking...":"Stake Now"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center w-full py-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Claim Rewards"}),e.jsx("div",{children:e.jsx("select",{className:"w-full text-sm p-1 text-gray-600 rounded-lg border border-gray-300",onChange:t=>{y(t.target.value)},children:s&&s.length>0&&s.map((t,a)=>e.jsxs("option",{value:a,children:[z(t==null?void 0:t.amount,18)," ",new Date(Number(t==null?void 0:t.depositTime)*1e3).toDateString()]},a))})})]}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Available Rewards"}),e.jsxs("span",{className:"text-lg font-bold text-[#066fd2]",children:[c," USDX"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:q,disabled:h||p==="partial"&&(!c||Number(c)>b),className:"w-full py-3 px-4 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:h?"Claiming...":`Claim ${p==="all"?"All":""} Rewards`})]}),p==="partial"&&e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:g,onChange:t=>N(t.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#066fd2] focus:border-transparent",placeholder:"Enter amount to claim",max:b}),e.jsx("button",{className:"absolute right-2 top-2 px-3 py-1 bg-gray-100 rounded text-sm text-gray-600 hover:bg-gray-200",onClick:()=>N(b.toString()),children:"MAX"})]}),e.jsxs("button",{onClick:$,disabled:h||p==="partial"&&(!g||Number(g)>b),className:"w-full py-3 px-4 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:h?"Claiming...":e.jsx(B,{targetDate:new Date(Number(((E=s[+u])==null?void 0:E.cliffTime)+((M=s[+u])==null?void 0:M.depositTime))*1e3).toDateString()})})]})]})]})]})]})}export{L as StakingCard};
